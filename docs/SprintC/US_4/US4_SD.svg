<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2449.05px" preserveAspectRatio="none" style="width:2477px;height:2449px;" version="1.1" viewBox="0 0 2477 2449" width="2477.76px" zoomAndPan="magnify"><defs><filter height="300%" id="foi0u3w4ozb5o" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.74"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.48" dy="3.48" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="2272.3245" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="49.59" y="86.6602"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.4059" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="382.8" y="106.106"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="258.791" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="382.8" y="158.9177"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="280.8469" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="382.8" y="444.1146"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="324.6527" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="382.8" y="751.3673"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="974.8418" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="382.8" y="1102.4259"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="255.311" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="382.8" y="2103.6736"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="205.9793" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="769.08" y="185.3236"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="205.9793" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="769.08" y="470.5205"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="205.9793" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="769.08" y="821.5791"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="863.9984" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="769.08" y="1186.8635"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="228.9052" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="769.08" y="2130.0795"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1003.11" y="211.7295"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1003.11" y="496.9263"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1003.11" y="847.9849"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1003.11" y="1213.2694"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1003.11" y="1340.0311"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1003.11" y="1466.7928"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1003.11" y="1593.5545"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1003.11" y="2156.4853"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1180.59" y="285.9853"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1180.59" y="571.1822"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1180.59" y="1414.287"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1278.03" y="1287.5252"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1378.08" y="922.2408"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1378.08" y="1541.0487"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.4059" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1497.27" y="338.4912"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.4059" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1621.68" y="623.688"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.4059" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1748.7" y="974.7466"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="40.6317" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1868.76" y="1682.0362"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1868.76" y="1998.356"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="128.2434" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1868.76" y="2230.7412"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="24.36" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="2134.11" y="1771.2724"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="24.36" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="2134.11" y="1941.5002"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="106.4934" style="stroke:#000000;stroke-width:1.74;" width="686.43" x="8.7" y="689.5498"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="106.4934" style="stroke:#000000;stroke-width:1.74;" width="653.37" x="8.7" y="1040.6084"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="94.2319" style="stroke:#000000;stroke-width:1.74;" width="357.57" x="2108.01" y="1814.7724"/><line style="stroke:#A80036;stroke-width:0.87;stroke-dasharray:5.0,5.0;" x1="53.94" x2="53.94" y1="77.9602" y2="2374.6446"/><line style="stroke:#A80036;stroke-width:0.87;stroke-dasharray:5.0,5.0;" x1="386.715" x2="386.715" y1="77.9602" y2="2374.6446"/><line style="stroke:#A80036;stroke-width:0.87;stroke-dasharray:5.0,5.0;" x1="772.995" x2="772.995" y1="77.9602" y2="2374.6446"/><line style="stroke:#A80036;stroke-width:0.87;stroke-dasharray:5.0,5.0;" x1="1007.46" x2="1007.46" y1="77.9602" y2="2374.6446"/><line style="stroke:#A80036;stroke-width:0.87;stroke-dasharray:5.0,5.0;" x1="1184.94" x2="1184.94" y1="77.9602" y2="2374.6446"/><line style="stroke:#A80036;stroke-width:0.87;stroke-dasharray:5.0,5.0;" x1="1282.38" x2="1282.38" y1="77.9602" y2="2374.6446"/><line style="stroke:#A80036;stroke-width:0.87;stroke-dasharray:5.0,5.0;" x1="1382.43" x2="1382.43" y1="77.9602" y2="2374.6446"/><line style="stroke:#A80036;stroke-width:0.87;stroke-dasharray:5.0,5.0;" x1="1501.62" x2="1501.62" y1="77.9602" y2="2374.6446"/><line style="stroke:#A80036;stroke-width:0.87;stroke-dasharray:5.0,5.0;" x1="1626.03" x2="1626.03" y1="77.9602" y2="2374.6446"/><line style="stroke:#A80036;stroke-width:0.87;stroke-dasharray:5.0,5.0;" x1="1753.05" x2="1753.05" y1="77.9602" y2="2374.6446"/><line style="stroke:#A80036;stroke-width:0.87;stroke-dasharray:5.0,5.0;" x1="1873.11" x2="1873.11" y1="77.9602" y2="2374.6446"/><line style="stroke:#A80036;stroke-width:0.87;stroke-dasharray:5.0,5.0;" x1="2138.46" x2="2138.46" y1="1725.6314" y2="2374.6446"/><line style="stroke:#A80036;stroke-width:0.87;stroke-dasharray:5.0,5.0;" x1="2404.68" x2="2404.68" y1="1859.7134" y2="2374.6446"/><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="67.86" x="17.4" y="75.2839">Receptionist</text><ellipse cx="53.94" cy="13.05" fill="#FEFECE" filter="url(#foi0u3w4ozb5o)" rx="6.96" ry="6.96" style="stroke:#A80036;stroke-width:1.74;"/><path d="M53.94,20.01 L53.94,43.5 M42.63,26.97 L65.25,26.97 M53.94,43.5 L42.63,56.55 M53.94,43.5 L65.25,56.55 " fill="none" filter="url(#foi0u3w4ozb5o)" style="stroke:#A80036;stroke-width:1.74;"/><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="67.86" x="17.4" y="2386.4185">Receptionist</text><ellipse cx="53.94" cy="2397.7948" fill="#FEFECE" filter="url(#foi0u3w4ozb5o)" rx="6.96" ry="6.96" style="stroke:#A80036;stroke-width:1.74;"/><path d="M53.94,2404.7548 L53.94,2428.2448 M42.63,2411.7148 L65.25,2411.7148 M53.94,2428.2448 L42.63,2441.2948 M53.94,2428.2448 L65.25,2441.2948 " fill="none" filter="url(#foi0u3w4ozb5o)" style="stroke:#A80036;stroke-width:1.74;"/><rect fill="#FEFECE" filter="url(#foi0u3w4ozb5o)" height="27.5002" style="stroke:#A80036;stroke-width:1.305;" width="94.83" x="337.995" y="46.11"/><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="75.69" x="344.085" y="64.8439">:CreateTestUI</text><rect fill="#FEFECE" filter="url(#foi0u3w4ozb5o)" height="27.5002" style="stroke:#A80036;stroke-width:1.305;" width="94.83" x="337.995" y="2373.7746"/><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="75.69" x="344.085" y="2392.5085">:CreateTestUI</text><rect fill="#FEFECE" filter="url(#foi0u3w4ozb5o)" height="27.5002" style="stroke:#A80036;stroke-width:1.305;" width="131.37" x="706.005" y="46.11"/><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="119.19" x="712.095" y="64.8439">:CreateTestController</text><rect fill="#FEFECE" filter="url(#foi0u3w4ozb5o)" height="27.5002" style="stroke:#A80036;stroke-width:1.305;" width="131.37" x="706.005" y="2373.7746"/><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="119.19" x="712.095" y="2392.5085">:CreateTestController</text><rect fill="#FEFECE" filter="url(#foi0u3w4ozb5o)" height="27.5002" style="stroke:#A80036;stroke-width:1.305;" width="67.86" x="971.79" y="46.11"/><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="55.68" x="977.88" y="64.8439">:Company</text><rect fill="#FEFECE" filter="url(#foi0u3w4ozb5o)" height="27.5002" style="stroke:#A80036;stroke-width:1.305;" width="67.86" x="971.79" y="2373.7746"/><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="55.68" x="977.88" y="2392.5085">:Company</text><rect fill="#FEFECE" filter="url(#foi0u3w4ozb5o)" height="27.5002" style="stroke:#A80036;stroke-width:1.305;" width="95.7" x="1135.35" y="46.11"/><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="83.52" x="1141.44" y="64.8439">store:TestType</text><rect fill="#FEFECE" filter="url(#foi0u3w4ozb5o)" height="27.5002" style="stroke:#A80036;stroke-width:1.305;" width="95.7" x="1135.35" y="2373.7746"/><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="83.52" x="1141.44" y="2392.5085">store:TestType</text><rect fill="#FEFECE" filter="url(#foi0u3w4ozb5o)" height="27.5002" style="stroke:#A80036;stroke-width:1.305;" width="74.82" x="1243.23" y="46.11"/><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="62.64" x="1249.32" y="64.8439">store:Client</text><rect fill="#FEFECE" filter="url(#foi0u3w4ozb5o)" height="27.5002" style="stroke:#A80036;stroke-width:1.305;" width="74.82" x="1243.23" y="2373.7746"/><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="62.64" x="1249.32" y="2392.5085">store:Client</text><rect fill="#FEFECE" filter="url(#foi0u3w4ozb5o)" height="27.5002" style="stroke:#A80036;stroke-width:1.305;" width="100.92" x="1330.23" y="46.11"/><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="88.74" x="1336.32" y="64.8439">store:Parameter</text><rect fill="#FEFECE" filter="url(#foi0u3w4ozb5o)" height="27.5002" style="stroke:#A80036;stroke-width:1.305;" width="100.92" x="1330.23" y="2373.7746"/><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="88.74" x="1336.32" y="2392.5085">store:Parameter</text><rect fill="#FEFECE" filter="url(#foi0u3w4ozb5o)" height="27.5002" style="stroke:#A80036;stroke-width:1.305;" width="113.1" x="1443.33" y="46.11"/><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="100.92" x="1449.42" y="64.8439">: TestTypeMapper</text><rect fill="#FEFECE" filter="url(#foi0u3w4ozb5o)" height="27.5002" style="stroke:#A80036;stroke-width:1.305;" width="113.1" x="1443.33" y="2373.7746"/><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="100.92" x="1449.42" y="2392.5085">: TestTypeMapper</text><rect fill="#FEFECE" filter="url(#foi0u3w4ozb5o)" height="27.5002" style="stroke:#A80036;stroke-width:1.305;" width="111.36" x="1568.61" y="46.11"/><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="99.18" x="1574.7" y="64.8439">: CategoryMapper</text><rect fill="#FEFECE" filter="url(#foi0u3w4ozb5o)" height="27.5002" style="stroke:#A80036;stroke-width:1.305;" width="111.36" x="1568.61" y="2373.7746"/><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="99.18" x="1574.7" y="2392.5085">: CategoryMapper</text><rect fill="#FEFECE" filter="url(#foi0u3w4ozb5o)" height="27.5002" style="stroke:#A80036;stroke-width:1.305;" width="118.32" x="1692.15" y="46.11"/><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="106.14" x="1698.24" y="64.8439">: ParameterMapper</text><rect fill="#FEFECE" filter="url(#foi0u3w4ozb5o)" height="27.5002" style="stroke:#A80036;stroke-width:1.305;" width="118.32" x="1692.15" y="2373.7746"/><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="106.14" x="1698.24" y="2392.5085">: ParameterMapper</text><rect fill="#FEFECE" filter="url(#foi0u3w4ozb5o)" height="27.5002" style="stroke:#A80036;stroke-width:1.305;" width="97.44" x="1822.65" y="46.11"/><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="85.26" x="1828.74" y="64.8439">store:TestStore</text><rect fill="#FEFECE" filter="url(#foi0u3w4ozb5o)" height="27.5002" style="stroke:#A80036;stroke-width:1.305;" width="97.44" x="1822.65" y="2373.7746"/><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="85.26" x="1828.74" y="2392.5085">store:TestStore</text><rect fill="#FEFECE" filter="url(#foi0u3w4ozb5o)" height="42.8203" style="stroke:#A80036;stroke-width:1.305;" width="40.02" x="2116.71" y="2373.7746"/><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="6.96" x="2133.24" y="2392.5085">tt</text><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="27.84" x="2122.8" y="2407.8287">:Test</text><rect fill="#FEFECE" filter="url(#foi0u3w4ozb5o)" height="27.5002" style="stroke:#A80036;stroke-width:1.305;" width="100.92" x="2352.48" y="2373.7746"/><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="88.74" x="2358.57" y="2392.5085">: TestParameter</text><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="2272.3245" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="49.59" y="86.6602"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.4059" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="382.8" y="106.106"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="258.791" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="382.8" y="158.9177"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="280.8469" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="382.8" y="444.1146"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="324.6527" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="382.8" y="751.3673"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="974.8418" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="382.8" y="1102.4259"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="255.311" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="382.8" y="2103.6736"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="205.9793" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="769.08" y="185.3236"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="205.9793" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="769.08" y="470.5205"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="205.9793" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="769.08" y="821.5791"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="863.9984" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="769.08" y="1186.8635"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="228.9052" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="769.08" y="2130.0795"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1003.11" y="211.7295"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1003.11" y="496.9263"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1003.11" y="847.9849"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1003.11" y="1213.2694"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1003.11" y="1340.0311"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1003.11" y="1466.7928"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1003.11" y="1593.5545"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1003.11" y="2156.4853"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1180.59" y="285.9853"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1180.59" y="571.1822"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1180.59" y="1414.287"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1278.03" y="1287.5252"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1378.08" y="922.2408"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1378.08" y="1541.0487"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.4059" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1497.27" y="338.4912"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.4059" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1621.68" y="623.688"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.4059" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1748.7" y="974.7466"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="40.6317" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1868.76" y="1682.0362"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="26.1" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1868.76" y="1998.356"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="128.2434" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="1868.76" y="2230.7412"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="24.36" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="2134.11" y="1771.2724"/><rect fill="#FFFFFF" filter="url(#foi0u3w4ozb5o)" height="24.36" style="stroke:#A80036;stroke-width:0.87;" width="8.7" x="2134.11" y="1941.5002"/><polygon fill="#A80036" points="372.36,102.626,381.06,106.106,372.36,109.586,375.84,106.106" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="58.29" x2="377.58" y1="106.106" y2="106.106"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="6.09" x="64.38" y="101.8809">1</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="298.41" x="73.95" y="101.8809">asks to register a test to be performed to a registered client</text><polygon fill="#A80036" points="67.86,129.0319,59.16,132.5119,67.86,135.9919,64.38,132.5119" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;stroke-dasharray:2.0,2.0;" x1="62.64" x2="386.28" y1="132.5119" y2="132.5119"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="6.09" x="73.08" y="128.2868">2</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="231.42" x="82.65" y="128.2868">requests data (CitizenCardNumber, NHScode)</text><polygon fill="#A80036" points="372.36,155.4377,381.06,158.9177,372.36,162.3977,375.84,158.9177" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="58.29" x2="377.58" y1="158.9177" y2="158.9177"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="6.09" x="64.38" y="154.6926">3</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="106.14" x="73.95" y="154.6926">types requested data</text><polygon fill="#A80036" points="758.64,181.8436,767.34,185.3236,758.64,188.8036,762.12,185.3236" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="391.5" x2="763.86" y1="185.3236" y2="185.3236"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="6.09" x="397.59" y="181.0985">4</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="156.6" x="407.16" y="181.0985">testTypesList = getTestTypes()</text><polygon fill="#A80036" points="992.67,208.2495,1001.37,211.7295,992.67,215.2095,996.15,211.7295" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="777.78" x2="997.89" y1="211.7295" y2="211.7295"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="6.09" x="783.87" y="207.5043">5</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="180.09" x="793.44" y="207.5043">testTypeStore = getTestTypeStore()</text><polygon fill="#A80036" points="1170.15,282.5053,1178.85,285.9853,1170.15,289.4653,1173.63,285.9853" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="777.78" x2="1175.37" y1="285.9853" y2="285.9853"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="6.09" x="783.87" y="281.7602">6</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="156.6" x="793.44" y="281.7602">testTypesList = getTestTypes()</text><polygon fill="#A80036" points="1486.83,335.0112,1495.53,338.4912,1486.83,341.9712,1490.31,338.4912" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="777.78" x2="1492.05" y1="338.4912" y2="338.4912"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="6.09" x="783.87" y="334.2661">7</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="107.01" x="793.44" y="334.2661">toDTO(testTypesList)</text><polygon fill="#A80036" points="787.35,361.417,778.65,364.897,787.35,368.377,783.87,364.897" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;stroke-dasharray:2.0,2.0;" x1="782.13" x2="1500.75" y1="364.897" y2="364.897"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="6.09" x="792.57" y="360.6719">8</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="85.26" x="802.14" y="360.6719">testTypesListDto</text><polygon fill="#A80036" points="401.07,387.8229,392.37,391.3029,401.07,394.7829,397.59,391.3029" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;stroke-dasharray:2.0,2.0;" x1="395.85" x2="772.56" y1="391.3029" y2="391.3029"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="6.09" x="406.29" y="387.0778">9</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="85.26" x="415.86" y="387.0778">testTypesListDto</text><polygon fill="#A80036" points="67.86,414.2288,59.16,417.7088,67.86,421.1887,64.38,417.7088" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="62.64" x2="386.28" y1="417.7088" y2="417.7088"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="73.08" y="413.4836">10</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="217.5" x="88.74" y="413.4836">shows test types and request to select one</text><polygon fill="#A80036" points="372.36,440.6346,381.06,444.1146,372.36,447.5946,375.84,444.1146" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="58.29" x2="377.58" y1="444.1146" y2="444.1146"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="64.38" y="439.8895">11</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="114.84" x="80.04" y="439.8895">selects requested data</text><polygon fill="#A80036" points="758.64,467.0405,767.34,470.5205,758.64,474.0005,762.12,470.5205" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="391.5" x2="763.86" y1="470.5205" y2="470.5205"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="397.59" y="466.2954">12</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="333.21" x="413.25" y="466.2954">categories = getCategoriesListOfTestType(selectedTestTypeCode)</text><polygon fill="#A80036" points="992.67,493.4463,1001.37,496.9263,992.67,500.4063,996.15,496.9263" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="777.78" x2="997.89" y1="496.9263" y2="496.9263"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="783.87" y="492.7012">13</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="180.09" x="799.53" y="492.7012">testTypeStore = getTestTypeStore()</text><polygon fill="#A80036" points="1170.15,567.7022,1178.85,571.1822,1170.15,574.6622,1173.63,571.1822" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="777.78" x2="1175.37" y1="571.1822" y2="571.1822"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="783.87" y="566.9571">14</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="370.62" x="799.53" y="566.9571">ttCategoriesList = getCategoriesByTestTypeCode(selectedTestTypeCode)</text><polygon fill="#A80036" points="1611.24,620.208,1619.94,623.688,1611.24,627.168,1614.72,623.688" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="777.78" x2="1616.46" y1="623.688" y2="623.688"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="783.87" y="619.4629">15</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="118.32" x="799.53" y="619.4629">toDTO(ttCategoriesList)</text><polygon fill="#A80036" points="787.35,646.6139,778.65,650.0939,787.35,653.5739,783.87,650.0939" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;stroke-dasharray:2.0,2.0;" x1="782.13" x2="1625.16" y1="650.0939" y2="650.0939"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="792.57" y="645.8688">16</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="85.26" x="808.23" y="645.8688">testTypesListDto</text><polygon fill="#A80036" points="401.07,673.0198,392.37,676.4998,401.07,679.9798,397.59,676.4998" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;stroke-dasharray:2.0,2.0;" x1="395.85" x2="772.56" y1="676.4998" y2="676.4998"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="406.29" y="672.2747">17</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="96.57" x="421.95" y="672.2747">ttCategoriesListDto</text><path d="M8.7,689.5498 L72.21,689.5498 L72.21,696.5098 L63.51,705.2098 L8.7,705.2098 L8.7,689.5498 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.87;"/><rect fill="none" height="106.4934" style="stroke:#000000;stroke-width:1.74;" width="686.43" x="8.7" y="689.5498"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="24.36" x="21.75" y="702.1605">loop</text><text fill="#000000" font-family="sans-serif" font-size="9.57" font-weight="bold" lengthAdjust="spacing" textLength="138.33" x="85.26" y="701.2242">[while user adds categories]</text><polygon fill="#A80036" points="67.86,721.4815,59.16,724.9615,67.86,728.4415,64.38,724.9615" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;stroke-dasharray:2.0,2.0;" x1="62.64" x2="386.28" y1="724.9615" y2="724.9615"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="73.08" y="720.7364">18</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="265.35" x="88.74" y="720.7364">shows available categories and request to select one</text><polygon fill="#A80036" points="372.36,747.8873,381.06,751.3673,372.36,754.8473,375.84,751.3673" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="58.29" x2="377.58" y1="751.3673" y2="751.3673"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="64.38" y="747.1422">19</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="114.84" x="80.04" y="747.1422">selects requested data</text><line style="stroke:#A80036;stroke-width:0.87;" x1="391.5" x2="428.04" y1="777.7732" y2="777.7732"/><line style="stroke:#A80036;stroke-width:0.87;" x1="428.04" x2="428.04" y1="777.7732" y2="789.0832"/><line style="stroke:#A80036;stroke-width:0.87;" x1="392.37" x2="428.04" y1="789.0832" y2="789.0832"/><polygon fill="#A80036" points="401.07,785.6032,392.37,789.0832,401.07,792.5632,397.59,789.0832" style="stroke:#A80036;stroke-width:0.87;"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="397.59" y="773.5481">20</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="271.44" x="413.25" y="773.5481">selectedCategoriesCodes.add(selectedCategoryCode)</text><polygon fill="#A80036" points="758.64,818.0991,767.34,821.5791,758.64,825.0591,762.12,821.5791" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="391.5" x2="763.86" y1="821.5791" y2="821.5791"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="397.59" y="817.354">21</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="345.39" x="413.25" y="817.354">parameters = getParametersOfCategories(selectedCategoriesCodes)</text><polygon fill="#A80036" points="992.67,844.5049,1001.37,847.9849,992.67,851.4649,996.15,847.9849" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="777.78" x2="997.89" y1="847.9849" y2="847.9849"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="783.87" y="843.7598">22</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="193.14" x="799.53" y="843.7598">parameterStore = getParameterStore()</text><polygon fill="#A80036" points="1367.64,918.7608,1376.34,922.2408,1367.64,925.7208,1371.12,922.2408" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="777.78" x2="1372.86" y1="922.2408" y2="922.2408"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="783.87" y="918.0157">23</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="362.79" x="799.53" y="918.0157">filteredParamsList = getParamsByCategories(selectedCategoriesCodes)</text><polygon fill="#A80036" points="1738.26,971.2666,1746.96,974.7466,1738.26,978.2266,1741.74,974.7466" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="777.78" x2="1743.48" y1="974.7466" y2="974.7466"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="783.87" y="970.5215">24</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="129.63" x="799.53" y="970.5215">toDTO(filteredParamsList)</text><polygon fill="#A80036" points="787.35,997.6725,778.65,1001.1525,787.35,1004.6325,783.87,1001.1525" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;stroke-dasharray:2.0,2.0;" x1="782.13" x2="1752.18" y1="1001.1525" y2="1001.1525"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="792.57" y="996.9274">25</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="90.48" x="808.23" y="996.9274">filteredParamsList</text><polygon fill="#A80036" points="401.07,1024.0784,392.37,1027.5584,401.07,1031.0384,397.59,1027.5584" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;stroke-dasharray:2.0,2.0;" x1="395.85" x2="772.56" y1="1027.5584" y2="1027.5584"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="406.29" y="1023.3333">26</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="90.48" x="421.95" y="1023.3333">filteredParamsList</text><path d="M8.7,1040.6084 L72.21,1040.6084 L72.21,1047.5684 L63.51,1056.2684 L8.7,1056.2684 L8.7,1040.6084 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.87;"/><rect fill="none" height="106.4934" style="stroke:#000000;stroke-width:1.74;" width="653.37" x="8.7" y="1040.6084"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="24.36" x="21.75" y="1053.2191">loop</text><text fill="#000000" font-family="sans-serif" font-size="9.57" font-weight="bold" lengthAdjust="spacing" textLength="143.55" x="85.26" y="1052.2828">[while user adds parameters]</text><polygon fill="#A80036" points="67.86,1072.5401,59.16,1076.0201,67.86,1079.5001,64.38,1076.0201" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;stroke-dasharray:2.0,2.0;" x1="62.64" x2="386.28" y1="1076.0201" y2="1076.0201"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="73.08" y="1071.795">27</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="269.7" x="88.74" y="1071.795">shows available parameters and request to select one</text><polygon fill="#A80036" points="372.36,1098.9459,381.06,1102.4259,372.36,1105.9059,375.84,1102.4259" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="58.29" x2="377.58" y1="1102.4259" y2="1102.4259"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="64.38" y="1098.2008">28</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="114.84" x="80.04" y="1098.2008">selects requested data</text><line style="stroke:#A80036;stroke-width:0.87;" x1="391.5" x2="428.04" y1="1128.8318" y2="1128.8318"/><line style="stroke:#A80036;stroke-width:0.87;" x1="428.04" x2="428.04" y1="1128.8318" y2="1140.1418"/><line style="stroke:#A80036;stroke-width:0.87;" x1="392.37" x2="428.04" y1="1140.1418" y2="1140.1418"/><polygon fill="#A80036" points="401.07,1136.6618,392.37,1140.1418,401.07,1143.6218,397.59,1140.1418" style="stroke:#A80036;stroke-width:0.87;"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="397.59" y="1124.6067">29</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="238.38" x="413.25" y="1124.6067">selectedParamCodes.add(selectedParamCode)</text><polygon fill="#A80036" points="758.64,1183.3835,767.34,1186.8635,758.64,1190.3435,762.12,1186.8635" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="391.5" x2="763.86" y1="1186.8635" y2="1186.8635"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="397.59" y="1175.5255">30</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="210.54" x="413.25" y="1168.4125">createTest(NHScode, citizenCardNumber,</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="233.16" x="416.73" y="1182.6384">selectedTestTypeCode, selectedParamCodes)</text><polygon fill="#A80036" points="992.67,1209.7894,1001.37,1213.2694,992.67,1216.7494,996.15,1213.2694" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="777.78" x2="997.89" y1="1213.2694" y2="1213.2694"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="783.87" y="1209.0443">31</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="146.16" x="799.53" y="1209.0443">clientStore = getClientStore()</text><polygon fill="#A80036" points="1267.59,1284.0452,1276.29,1287.5252,1267.59,1291.0052,1271.07,1287.5252" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="777.78" x2="1272.81" y1="1287.5252" y2="1287.5252"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="783.87" y="1283.3001">32</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="316.68" x="799.53" y="1283.3001">associatedClient = getClientByCitizenNum(citizenCardNumber)</text><polygon fill="#A80036" points="992.67,1336.5511,1001.37,1340.0311,992.67,1343.5111,996.15,1340.0311" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="777.78" x2="997.89" y1="1340.0311" y2="1340.0311"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="783.87" y="1335.806">33</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="180.09" x="799.53" y="1335.806">testTypeStore = getTestTypeStore()</text><polygon fill="#A80036" points="1170.15,1410.807,1178.85,1414.287,1170.15,1417.767,1173.63,1414.287" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="777.78" x2="1175.37" y1="1414.287" y2="1414.287"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="783.87" y="1410.0618">34</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="326.25" x="799.53" y="1410.0618">selectedTestType = getTestTypeByCode(selectedTestTypeCode)</text><polygon fill="#A80036" points="992.67,1463.3128,1001.37,1466.7928,992.67,1470.2728,996.15,1466.7928" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="777.78" x2="997.89" y1="1466.7928" y2="1466.7928"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="783.87" y="1462.5677">35</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="193.14" x="799.53" y="1462.5677">parameterStore = getParameterStore()</text><polygon fill="#A80036" points="1367.64,1537.5687,1376.34,1541.0487,1367.64,1544.5287,1371.12,1541.0487" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="777.78" x2="1372.86" y1="1541.0487" y2="1541.0487"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="783.87" y="1536.8236">36</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="329.73" x="799.53" y="1536.8236">selectedParamsList = getParamsByCodes(selectedParamCodes)</text><polygon fill="#A80036" points="992.67,1590.0745,1001.37,1593.5545,992.67,1597.0345,996.15,1593.5545" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="777.78" x2="997.89" y1="1593.5545" y2="1593.5545"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="783.87" y="1589.3294">37</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="131.37" x="799.53" y="1589.3294">testStore = getTestStore()</text><polygon fill="#A80036" points="1858.32,1678.5563,1867.02,1682.0362,1858.32,1685.5163,1861.8,1682.0362" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="777.78" x2="1863.54" y1="1682.0362" y2="1682.0362"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="783.87" y="1670.6982">38</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="231.42" x="799.53" y="1663.5853">test = createTest(NHScode, associatedClient,</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="199.23" x="803.01" y="1677.8111">selectedTestType, selectedParamsList)</text><polygon fill="#A80036" points="2106.27,1719.188,2114.97,1722.668,2106.27,1726.148,2109.75,1722.668" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="1873.11" x2="2111.49" y1="1722.668" y2="1722.668"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="1879.2" y="1711.3299">39</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="198.36" x="1894.86" y="1704.217">createTest(NHScode, associatedClient,</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="199.23" x="1898.34" y="1718.4429">selectedTestType, selectedParamsList)</text><rect fill="#FEFECE" filter="url(#foi0u3w4ozb5o)" height="42.8203" style="stroke:#A80036;stroke-width:1.305;" width="40.02" x="2116.71" y="1688.9963"/><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="6.96" x="2133.24" y="1707.7301">tt</text><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="27.84" x="2122.8" y="1723.0503">:Test</text><line style="stroke:#A80036;stroke-width:0.87;" x1="2142.81" x2="2179.35" y1="1764.3124" y2="1764.3124"/><line style="stroke:#A80036;stroke-width:0.87;" x1="2179.35" x2="2179.35" y1="1764.3124" y2="1775.6224"/><line style="stroke:#A80036;stroke-width:0.87;" x1="2143.68" x2="2179.35" y1="1775.6224" y2="1775.6224"/><polygon fill="#A80036" points="2152.38,1772.1424,2143.68,1775.6224,2152.38,1779.1024,2148.9,1775.6224" style="stroke:#A80036;stroke-width:0.87;"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="2148.9" y="1760.0873">40</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="224.46" x="2164.56" y="1760.0873">checkAttributes(NHScode, associatedClient)</text><path d="M2108.01,1814.7724 L2171.52,1814.7724 L2171.52,1821.7324 L2162.82,1830.4324 L2108.01,1830.4324 L2108.01,1814.7724 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.87;"/><rect fill="none" height="94.2319" style="stroke:#000000;stroke-width:1.74;" width="357.57" x="2108.01" y="1814.7724"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="24.36" x="2121.06" y="1827.3832">loop</text><text fill="#000000" font-family="sans-serif" font-size="9.57" font-weight="bold" lengthAdjust="spacing" textLength="147.03" x="2184.57" y="1826.4469">[for each parameter of the list]</text><polygon fill="#A80036" points="2342.04,1846.7041,2350.74,1850.1841,2342.04,1853.6641,2345.52,1850.1841" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="2138.46" x2="2347.26" y1="1850.1841" y2="1850.1841"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="2144.55" y="1845.959">41</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="177.48" x="2160.21" y="1845.959">testParameter =  create(parameter)</text><rect fill="#FEFECE" filter="url(#foi0u3w4ozb5o)" height="27.5002" style="stroke:#A80036;stroke-width:1.305;" width="100.92" x="2352.48" y="1830.7383"/><text fill="#000000" font-family="sans-serif" font-size="12.18" lengthAdjust="spacing" textLength="88.74" x="2358.57" y="1849.4722">: TestParameter</text><line style="stroke:#A80036;stroke-width:0.87;" x1="2138.46" x2="2175" y1="1890.7343" y2="1890.7343"/><line style="stroke:#A80036;stroke-width:0.87;" x1="2175" x2="2175" y1="1890.7343" y2="1902.0443"/><line style="stroke:#A80036;stroke-width:0.87;" x1="2139.33" x2="2175" y1="1902.0443" y2="1902.0443"/><polygon fill="#A80036" points="2148.03,1898.5643,2139.33,1902.0443,2148.03,1905.5243,2144.55,1902.0443" style="stroke:#A80036;stroke-width:0.87;"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="2144.55" y="1886.5092">42</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="177.48" x="2160.21" y="1886.5092">testParameters.add(testParameter)</text><line style="stroke:#A80036;stroke-width:0.87;" x1="2142.81" x2="2179.35" y1="1934.5402" y2="1934.5402"/><line style="stroke:#A80036;stroke-width:0.87;" x1="2179.35" x2="2179.35" y1="1934.5402" y2="1945.8502"/><line style="stroke:#A80036;stroke-width:0.87;" x1="2143.68" x2="2179.35" y1="1945.8502" y2="1945.8502"/><polygon fill="#A80036" points="2152.38,1942.3702,2143.68,1945.8502,2152.38,1949.3302,2148.9,1945.8502" style="stroke:#A80036;stroke-width:0.87;"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="2148.9" y="1930.315">43</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="167.91" x="2164.56" y="1930.315">code = generateSequentialCode()</text><polygon fill="#A80036" points="1858.32,1994.876,1867.02,1998.356,1858.32,2001.836,1861.8,1998.356" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="777.78" x2="1863.54" y1="1998.356" y2="1998.356"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="783.87" y="1994.1309">44</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="127.02" x="799.53" y="1994.1309">result = validateTest(test)</text><polygon fill="#A80036" points="401.07,2047.3819,392.37,2050.8619,401.07,2054.3419,397.59,2050.8619" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;stroke-dasharray:2.0,2.0;" x1="395.85" x2="772.56" y1="2050.8619" y2="2050.8619"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="406.29" y="2046.6368">45</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="27.84" x="421.95" y="2046.6368">result</text><polygon fill="#A80036" points="67.86,2073.7877,59.16,2077.2677,67.86,2080.7477,64.38,2077.2677" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;stroke-dasharray:2.0,2.0;" x1="62.64" x2="386.28" y1="2077.2677" y2="2077.2677"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="73.08" y="2073.0426">46</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="215.76" x="88.74" y="2073.0426">shows Test data and requests confirmation</text><polygon fill="#A80036" points="372.36,2100.1936,381.06,2103.6736,372.36,2107.1536,375.84,2103.6736" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="58.29" x2="377.58" y1="2103.6736" y2="2103.6736"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="64.38" y="2099.4485">47</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="87" x="80.04" y="2099.4485">confirms the data</text><polygon fill="#A80036" points="758.64,2126.5995,767.34,2130.0795,758.64,2133.5595,762.12,2130.0795" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="391.5" x2="763.86" y1="2130.0795" y2="2130.0795"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="397.59" y="2125.8543">48</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="51.33" x="413.25" y="2125.8543">saveTest()</text><polygon fill="#A80036" points="992.67,2153.0053,1001.37,2156.4853,992.67,2159.9653,996.15,2156.4853" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="777.78" x2="997.89" y1="2156.4853" y2="2156.4853"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="783.87" y="2152.2602">49</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="131.37" x="799.53" y="2152.2602">testStore = getTestStore()</text><polygon fill="#A80036" points="1858.32,2227.2612,1867.02,2230.7412,1858.32,2234.2212,1861.8,2230.7412" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;" x1="777.78" x2="1863.54" y1="2230.7412" y2="2230.7412"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="783.87" y="2226.5161">50</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="70.47" x="799.53" y="2226.5161">saveTest(test)</text><line style="stroke:#A80036;stroke-width:0.87;" x1="1877.46" x2="1914" y1="2257.147" y2="2257.147"/><line style="stroke:#A80036;stroke-width:0.87;" x1="1914" x2="1914" y1="2257.147" y2="2268.457"/><line style="stroke:#A80036;stroke-width:0.87;" x1="1878.33" x2="1914" y1="2268.457" y2="2268.457"/><polygon fill="#A80036" points="1887.03,2264.977,1878.33,2268.457,1887.03,2271.937,1883.55,2268.457" style="stroke:#A80036;stroke-width:0.87;"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="1883.55" y="2252.9219">51</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="85.26" x="1899.21" y="2252.9219">validateTest(test)</text><line style="stroke:#A80036;stroke-width:0.87;" x1="1877.46" x2="1914" y1="2294.8629" y2="2294.8629"/><line style="stroke:#A80036;stroke-width:0.87;" x1="1914" x2="1914" y1="2294.8629" y2="2306.1729"/><line style="stroke:#A80036;stroke-width:0.87;" x1="1878.33" x2="1914" y1="2306.1729" y2="2306.1729"/><polygon fill="#A80036" points="1887.03,2302.6929,1878.33,2306.1729,1887.03,2309.6529,1883.55,2306.1729" style="stroke:#A80036;stroke-width:0.87;"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="1883.55" y="2290.6378">52</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="66.12" x="1899.21" y="2290.6378">addTest(test)</text><polygon fill="#A80036" points="401.07,2329.0988,392.37,2332.5788,401.07,2336.0588,397.59,2332.5788" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;stroke-dasharray:2.0,2.0;" x1="395.85" x2="768.21" y1="2332.5788" y2="2332.5788"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="406.29" y="2328.3536">53</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="27.84" x="421.95" y="2328.3536">result</text><polygon fill="#A80036" points="63.51,2355.5046,54.81,2358.9846,63.51,2362.4646,60.03,2358.9846" style="stroke:#A80036;stroke-width:0.87;"/><line style="stroke:#A80036;stroke-width:0.87;stroke-dasharray:2.0,2.0;" x1="58.29" x2="386.28" y1="2358.9846" y2="2358.9846"/><text fill="#000000" font-family="sans-serif" font-size="11.31" font-weight="bold" lengthAdjust="spacing" textLength="12.18" x="68.73" y="2354.7595">54</text><text fill="#000000" font-family="sans-serif" font-size="11.31" lengthAdjust="spacing" textLength="132.24" x="84.39" y="2354.7595">informs operation success</text><!--MD5=[5e10f46a13f36196fbae8ad583e8c411]
@startuml
autonumber
'hide footbox
actor "Receptionist" as ADM

participant ":CreateTestUI  " as UI
participant ":CreateTestController" as CTRL
participant ":Company" as PLAT
participant "store:TestType" as TEST_TYPE_STORE
participant "store:Client" as CLIENT_STORE
participant "store:Parameter" as PARAM_STORE
participant ": TestTypeMapper" as TT_MAPPER
participant ": CategoryMapper" as PC_MAPPER
participant ": ParameterMapper" as PARAM_MAPPER
/'participant ":Platform" as PLAT'/
participant "store:TestStore" as ORG
participant "tt\n:Test" as TAREFA
participant ": TestParameter" as tp

activate ADM
ADM -> UI : asks to register a test to be performed to a registered client
activate UI


UI - -> ADM : requests data (CitizenCardNumber, NHScode)
deactivate UI


ADM -> UI : types requested data
activate UI
UI -> CTRL : testTypesList = getTestTypes()
activate CTRL
CTRL -> PLAT : testTypeStore = getTestTypeStore()
activate PLAT
|||
deactivate PLAT

CTRL -> TEST_TYPE_STORE : testTypesList = getTestTypes()
activate TEST_TYPE_STORE
deactivate TEST_TYPE_STORE


CTRL -> TT_MAPPER : toDTO(testTypesList)
activate TT_MAPPER
TT_MAPPER - -> CTRL : testTypesListDto
deactivate TT_MAPPER


CTRL - -> UI : testTypesListDto
deactivate CTRL
UI -> ADM : shows test types and request to select one
deactivate UI

ADM -> UI : selects requested data
activate UI

UI -> CTRL : categories = getCategoriesListOfTestType(selectedTestTypeCode)
activate CTRL
CTRL -> PLAT : testTypeStore = getTestTypeStore()
activate PLAT
|||
deactivate PLAT

CTRL -> TEST_TYPE_STORE : ttCategoriesList = getCategoriesByTestTypeCode(selectedTestTypeCode)
activate TEST_TYPE_STORE
deactivate TEST_TYPE_STORE



CTRL -> PC_MAPPER : toDTO(ttCategoriesList)
activate PC_MAPPER
PC_MAPPER - -> CTRL : testTypesListDto
deactivate PC_MAPPER


CTRL - -> UI : ttCategoriesListDto
deactivate CTRL

loop while user adds categories
UI - -> ADM : shows available categories and request to select one
deactivate PLAT
deactivate UI


ADM -> UI : selects requested data
activate UI
UI -> UI : selectedCategoriesCodes.add(selectedCategoryCode)
end

UI -> CTRL : parameters = getParametersOfCategories(selectedCategoriesCodes)
activate CTRL
CTRL -> PLAT : parameterStore = getParameterStore()
activate PLAT
|||
deactivate PLAT

CTRL -> PARAM_STORE : filteredParamsList = getParamsByCategories(selectedCategoriesCodes)
activate PARAM_STORE
deactivate PARAM_STORE



CTRL -> PARAM_MAPPER : toDTO(filteredParamsList)
activate PARAM_MAPPER
PARAM_MAPPER - -> CTRL : filteredParamsList
deactivate PARAM_MAPPER


CTRL - -> UI : filteredParamsList
deactivate CTRL

loop while user adds parameters
UI - -> ADM : shows available parameters and request to select one
deactivate PLAT
deactivate UI


ADM -> UI : selects requested data
activate UI
UI -> UI : selectedParamCodes.add(selectedParamCode)
end

UI -> CTRL : createTest(NHScode, citizenCardNumber,\n selectedTestTypeCode, selectedParamCodes)
activate CTRL
CTRL -> PLAT : clientStore = getClientStore()
activate PLAT
|||
deactivate PLAT

CTRL -> CLIENT_STORE : associatedClient = getClientByCitizenNum(citizenCardNumber)
activate CLIENT_STORE
deactivate CLIENT_STORE


CTRL -> PLAT : testTypeStore = getTestTypeStore()
activate PLAT
|||
deactivate PLAT

CTRL -> TEST_TYPE_STORE : selectedTestType = getTestTypeByCode(selectedTestTypeCode)
activate TEST_TYPE_STORE
deactivate TEST_TYPE_STORE

CTRL -> PLAT : parameterStore = getParameterStore()
activate PLAT
|||
deactivate PLAT

CTRL -> PARAM_STORE : selectedParamsList = getParamsByCodes(selectedParamCodes)
activate PARAM_STORE
deactivate PARAM_STORE


CTRL -> PLAT : testStore = getTestStore()
activate PLAT
|||
deactivate PLAT

CTRL -> ORG : test = createTest(NHScode, associatedClient,\n selectedTestType, selectedParamsList)
activate ORG
ORG -> TAREFA* : createTest(NHScode, associatedClient,\n selectedTestType, selectedParamsList)
deactivate ORG

TAREFA -> TAREFA : checkAttributes(NHScode, associatedClient)
activate TAREFA
deactivate TAREFA

loop for each parameter of the list
TAREFA -> tp*: testParameter =  create(parameter)
TAREFA -> TAREFA: testParameters.add(testParameter)
end

TAREFA -> TAREFA : code = generateSequentialCode()
activate TAREFA
deactivate TAREFA

CTRL -> ORG : result = validateTest(test)
activate ORG
deactivate ORG



CTRL - -> UI : result
deactivate CTRL
UI - -> ADM : shows Test data and requests confirmation
deactivate PLAT
deactivate UI


ADM -> UI : confirms the data
activate UI
UI -> CTRL : saveTest()
activate CTRL
CTRL -> PLAT : testStore = getTestStore()
activate PLAT
|||
deactivate PLAT

CTRL -> ORG : saveTest(test)
activate ORG

ORG -> ORG: validateTest(test)
ORG -> ORG: addTest(test)

CTRL - -> UI: result

UI - -> ADM : informs operation success
deactivate ORG
deactivate CTRL
deactivate UI

deactivate ADM

@enduml

@startuml
autonumber
actor "Receptionist" as ADM

participant ":CreateTestUI  " as UI
participant ":CreateTestController" as CTRL
participant ":Company" as PLAT
participant "store:TestType" as TEST_TYPE_STORE
participant "store:Client" as CLIENT_STORE
participant "store:Parameter" as PARAM_STORE
participant ": TestTypeMapper" as TT_MAPPER
participant ": CategoryMapper" as PC_MAPPER
participant ": ParameterMapper" as PARAM_MAPPER
participant "store:TestStore" as ORG
participant "tt\n:Test" as TAREFA
participant ": TestParameter" as tp

activate ADM
ADM -> UI : asks to register a test to be performed to a registered client
activate UI


UI - -> ADM : requests data (CitizenCardNumber, NHScode)
deactivate UI


ADM -> UI : types requested data
activate UI
UI -> CTRL : testTypesList = getTestTypes()
activate CTRL
CTRL -> PLAT : testTypeStore = getTestTypeStore()
activate PLAT
|||
deactivate PLAT

CTRL -> TEST_TYPE_STORE : testTypesList = getTestTypes()
activate TEST_TYPE_STORE
deactivate TEST_TYPE_STORE


CTRL -> TT_MAPPER : toDTO(testTypesList)
activate TT_MAPPER
TT_MAPPER - -> CTRL : testTypesListDto
deactivate TT_MAPPER


CTRL - -> UI : testTypesListDto
deactivate CTRL
UI -> ADM : shows test types and request to select one
deactivate UI

ADM -> UI : selects requested data
activate UI

UI -> CTRL : categories = getCategoriesListOfTestType(selectedTestTypeCode)
activate CTRL
CTRL -> PLAT : testTypeStore = getTestTypeStore()
activate PLAT
|||
deactivate PLAT

CTRL -> TEST_TYPE_STORE : ttCategoriesList = getCategoriesByTestTypeCode(selectedTestTypeCode)
activate TEST_TYPE_STORE
deactivate TEST_TYPE_STORE



CTRL -> PC_MAPPER : toDTO(ttCategoriesList)
activate PC_MAPPER
PC_MAPPER - -> CTRL : testTypesListDto
deactivate PC_MAPPER


CTRL - -> UI : ttCategoriesListDto
deactivate CTRL

loop while user adds categories
UI - -> ADM : shows available categories and request to select one
deactivate PLAT
deactivate UI


ADM -> UI : selects requested data
activate UI
UI -> UI : selectedCategoriesCodes.add(selectedCategoryCode)
end

UI -> CTRL : parameters = getParametersOfCategories(selectedCategoriesCodes)
activate CTRL
CTRL -> PLAT : parameterStore = getParameterStore()
activate PLAT
|||
deactivate PLAT

CTRL -> PARAM_STORE : filteredParamsList = getParamsByCategories(selectedCategoriesCodes)
activate PARAM_STORE
deactivate PARAM_STORE



CTRL -> PARAM_MAPPER : toDTO(filteredParamsList)
activate PARAM_MAPPER
PARAM_MAPPER - -> CTRL : filteredParamsList
deactivate PARAM_MAPPER


CTRL - -> UI : filteredParamsList
deactivate CTRL

loop while user adds parameters
UI - -> ADM : shows available parameters and request to select one
deactivate PLAT
deactivate UI


ADM -> UI : selects requested data
activate UI
UI -> UI : selectedParamCodes.add(selectedParamCode)
end

UI -> CTRL : createTest(NHScode, citizenCardNumber,\n selectedTestTypeCode, selectedParamCodes)
activate CTRL
CTRL -> PLAT : clientStore = getClientStore()
activate PLAT
|||
deactivate PLAT

CTRL -> CLIENT_STORE : associatedClient = getClientByCitizenNum(citizenCardNumber)
activate CLIENT_STORE
deactivate CLIENT_STORE


CTRL -> PLAT : testTypeStore = getTestTypeStore()
activate PLAT
|||
deactivate PLAT

CTRL -> TEST_TYPE_STORE : selectedTestType = getTestTypeByCode(selectedTestTypeCode)
activate TEST_TYPE_STORE
deactivate TEST_TYPE_STORE

CTRL -> PLAT : parameterStore = getParameterStore()
activate PLAT
|||
deactivate PLAT

CTRL -> PARAM_STORE : selectedParamsList = getParamsByCodes(selectedParamCodes)
activate PARAM_STORE
deactivate PARAM_STORE


CTRL -> PLAT : testStore = getTestStore()
activate PLAT
|||
deactivate PLAT

CTRL -> ORG : test = createTest(NHScode, associatedClient,\n selectedTestType, selectedParamsList)
activate ORG
ORG -> TAREFA* : createTest(NHScode, associatedClient,\n selectedTestType, selectedParamsList)
deactivate ORG

TAREFA -> TAREFA : checkAttributes(NHScode, associatedClient)
activate TAREFA
deactivate TAREFA

loop for each parameter of the list
TAREFA -> tp*: testParameter =  create(parameter)
TAREFA -> TAREFA: testParameters.add(testParameter)
end

TAREFA -> TAREFA : code = generateSequentialCode()
activate TAREFA
deactivate TAREFA

CTRL -> ORG : result = validateTest(test)
activate ORG
deactivate ORG



CTRL - -> UI : result
deactivate CTRL
UI - -> ADM : shows Test data and requests confirmation
deactivate PLAT
deactivate UI


ADM -> UI : confirms the data
activate UI
UI -> CTRL : saveTest()
activate CTRL
CTRL -> PLAT : testStore = getTestStore()
activate PLAT
|||
deactivate PLAT

CTRL -> ORG : saveTest(test)
activate ORG

ORG -> ORG: validateTest(test)
ORG -> ORG: addTest(test)

CTRL - -> UI: result

UI - -> ADM : informs operation success
deactivate ORG
deactivate CTRL
deactivate UI

deactivate ADM

@enduml

PlantUML version 1.2021.00(Sun Jan 10 10:25:05 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: BR
--></g></svg>