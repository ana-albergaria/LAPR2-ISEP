<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2120px" preserveAspectRatio="none" style="width:2550px;height:2120px;" version="1.1" viewBox="0 0 2550 2120" width="2550px" zoomAndPan="magnify"><defs><filter height="300%" id="f77pqig4qrlgn" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.5"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="5.0" dy="5.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="1866.709" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="70" y="124.5117"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="1021.0938" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="641.25" y="152.4512"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="37.9395" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="641.25" y="1211.4844"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="232.0313" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="641.25" y="1287.3633"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="433.8867" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="641.25" y="1557.334"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="945.2148" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1047.5" y="190.3906"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="156.1523" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1047.5" y="1325.3027"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="358.0078" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1047.5" y="1595.2734"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1286.25" y="228.3301"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="37.9395" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1286.25" y="1363.2422"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1286.25" y="1633.2129"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="118.2129" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1467.5" y="335.0195"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1467.5" y="1739.9023"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1467.5" y="1846.5918"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="575.2441" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1687.5" y="522.4219"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="35" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1693.75" y="789.0137"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="2130.625" y="672.3242"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="2130.625" y="982.2266"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="519.8047" style="stroke:#000000;stroke-width:2.5;" width="855" x="1620" y="541.1719"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="76.25" x2="76.25" y1="112.0117" y2="2013.7207"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="647.5" x2="647.5" y1="112.0117" y2="2013.7207"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="1053.75" x2="1053.75" y1="112.0117" y2="2013.7207"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="1292.5" x2="1292.5" y1="112.0117" y2="2013.7207"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="1473.75" x2="1473.75" y1="112.0117" y2="2013.7207"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="1578.75" x2="1578.75" y1="1425.8789" y2="2013.7207"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="1693.75" x2="1693.75" y1="112.0117" y2="2013.7207"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="1977.5" x2="1977.5" y1="926.6504" y2="2013.7207"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="2136.25" x2="2136.25" y1="397.6563" y2="2013.7207"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="2351.25" x2="2351.25" y1="616.748" y2="2013.7207"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="2506.25" x2="2506.25" y1="112.0117" y2="2013.7207"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="132.5" x="6.25" y="108.1665">Specialist Doctor</text><ellipse cx="76.25" cy="18.75" fill="#FEFECE" filter="url(#f77pqig4qrlgn)" rx="10" ry="10" style="stroke:#A80036;stroke-width:2.5;"/><path d="M76.25,28.75 L76.25,62.5 M60,38.75 L92.5,38.75 M76.25,62.5 L60,81.25 M76.25,62.5 L92.5,81.25 " fill="none" filter="url(#f77pqig4qrlgn)" style="stroke:#A80036;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="132.5" x="6.25" y="2030.6372">Specialist Doctor</text><ellipse cx="76.25" cy="2046.9824" fill="#FEFECE" filter="url(#f77pqig4qrlgn)" rx="10" ry="10" style="stroke:#A80036;stroke-width:2.5;"/><path d="M76.25,2056.9824 L76.25,2090.7324 M60,2066.9824 L92.5,2066.9824 M76.25,2090.7324 L60,2109.4824 M76.25,2090.7324 L92.5,2109.4824 " fill="none" filter="url(#f77pqig4qrlgn)" style="stroke:#A80036;stroke-width:2.5;"/><rect fill="#FEFECE" filter="url(#f77pqig4qrlgn)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="132.5" x="578.75" y="66.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="115" x="587.5" y="93.1665">:WriteReportUI</text><rect fill="#FEFECE" filter="url(#f77pqig4qrlgn)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="132.5" x="578.75" y="2012.4707"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="115" x="587.5" y="2039.3872">:WriteReportUI</text><rect fill="#FEFECE" filter="url(#f77pqig4qrlgn)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="195" x="953.75" y="66.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="177.5" x="962.5" y="93.1665">:WriteReportController</text><rect fill="#FEFECE" filter="url(#f77pqig4qrlgn)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="195" x="953.75" y="2012.4707"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="177.5" x="962.5" y="2039.3872">:WriteReportController</text><rect fill="#FEFECE" filter="url(#f77pqig4qrlgn)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="97.5" x="1241.25" y="66.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="80" x="1250" y="93.1665">:Company</text><rect fill="#FEFECE" filter="url(#f77pqig4qrlgn)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="97.5" x="1241.25" y="2012.4707"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="80" x="1250" y="2039.3872">:Company</text><rect fill="#FEFECE" filter="url(#f77pqig4qrlgn)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="100" x="1421.25" y="44.2383"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="61.25" x="1440.625" y="71.1548">tstStore</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="82.5" x="1430" y="93.1665">:TestStore</text><rect fill="#FEFECE" filter="url(#f77pqig4qrlgn)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="100" x="1421.25" y="2012.4707"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="61.25" x="1440.625" y="2039.3872">tstStore</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="82.5" x="1430" y="2061.3989">:TestStore</text><rect fill="#FEFECE" filter="url(#f77pqig4qrlgn)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="76.25" x="1538.75" y="2012.4707"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="21.25" x="1566.25" y="2039.3872">rpt</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="58.75" x="1547.5" y="2061.3989">:Report</text><rect fill="#FEFECE" filter="url(#f77pqig4qrlgn)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="117.5" x="1632.5" y="66.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="100" x="1641.25" y="93.1665">:TestMapper</text><rect fill="#FEFECE" filter="url(#f77pqig4qrlgn)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="117.5" x="1632.5" y="2012.4707"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="100" x="1641.25" y="2039.3872">:TestMapper</text><rect fill="#FEFECE" filter="url(#f77pqig4qrlgn)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="103.75" x="1923.75" y="2012.4707"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="61.25" x="1945" y="2039.3872">objDTO</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="86.25" x="1932.5" y="2061.3989">:TestsDTO</text><rect fill="#FEFECE" filter="url(#f77pqig4qrlgn)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="178.75" x="2045" y="2012.4707"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="161.25" x="2053.75" y="2039.3872">listTestsToDiagnose</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="87.5" x="2090.625" y="2061.3989">:List&lt;Test&gt;</text><rect fill="#FEFECE" filter="url(#f77pqig4qrlgn)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="216.25" x="2241.25" y="2012.4707"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="198.75" x="2250" y="2039.3872">listTestsToDiagnoseDTO</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="125" x="2286.875" y="2061.3989">:List&lt;TestDTO&gt;</text><rect fill="#FEFECE" filter="url(#f77pqig4qrlgn)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="57.5" x="2475" y="44.2383"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="18.75" x="2494.375" y="71.1548">tst</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="40" x="2483.75" y="93.1665">:Test</text><rect fill="#FEFECE" filter="url(#f77pqig4qrlgn)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="57.5" x="2475" y="2012.4707"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="18.75" x="2494.375" y="2039.3872">tst</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="40" x="2483.75" y="2061.3989">:Test</text><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="1866.709" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="70" y="124.5117"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="1021.0938" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="641.25" y="152.4512"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="37.9395" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="641.25" y="1211.4844"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="232.0313" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="641.25" y="1287.3633"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="433.8867" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="641.25" y="1557.334"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="945.2148" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1047.5" y="190.3906"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="156.1523" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1047.5" y="1325.3027"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="358.0078" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1047.5" y="1595.2734"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1286.25" y="228.3301"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="37.9395" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1286.25" y="1363.2422"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1286.25" y="1633.2129"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="118.2129" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1467.5" y="335.0195"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1467.5" y="1739.9023"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1467.5" y="1846.5918"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="575.2441" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1687.5" y="522.4219"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="35" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1693.75" y="789.0137"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="2130.625" y="672.3242"/><rect fill="#FFFFFF" filter="url(#f77pqig4qrlgn)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="2130.625" y="982.2266"/><polygon fill="#A80036" points="626.25,147.4512,638.75,152.4512,626.25,157.4512,631.25,152.4512" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="82.5" x2="633.75" y1="152.4512" y2="152.4512"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="91.25" y="146.3806">1</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="172.5" x="105" y="146.3806">asks to make diagnosis</text><polygon fill="#A80036" points="1032.5,185.3906,1045,190.3906,1032.5,195.3906,1037.5,190.3906" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="653.75" x2="1040" y1="190.3906" y2="190.3906"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="662.5" y="184.3201">2</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="356.25" x="676.25" y="184.3201">listTestsToDiagnoseDTO = getTestsToDiagnose()</text><polygon fill="#A80036" points="1271.25,223.3301,1283.75,228.3301,1271.25,233.3301,1276.25,228.3301" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1060" x2="1278.75" y1="228.3301" y2="228.3301"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="1068.75" y="222.2595">3</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="180" x="1082.5" y="222.2595">tstStore = getTestStore()</text><polygon fill="#A80036" points="1452.5,330.0195,1465,335.0195,1452.5,340.0195,1457.5,335.0195" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1060" x2="1460" y1="335.0195" y2="335.0195"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="1068.75" y="328.949">4</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="370" x="1082.5" y="328.949">listTestsToDiagnose = getTestsReadyToDiagnose()</text><polygon fill="#A80036" points="2030,367.959,2042.5,372.959,2030,377.959,2035,372.959" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="1480" x2="2037.5" y1="372.959" y2="372.959"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="1488.75" y="366.8884">5</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="55" x="1502.5" y="366.8884">create()</text><rect fill="#FEFECE" filter="url(#f77pqig4qrlgn)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="178.75" x="2045" y="345.0195"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="161.25" x="2053.75" y="371.936">listTestsToDiagnose</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="87.5" x="2090.625" y="393.9478">:List&lt;Test&gt;</text><polygon fill="#A80036" points="1073.75,448.2324,1061.25,453.2324,1073.75,458.2324,1068.75,453.2324" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="1066.25" x2="1472.5" y1="453.2324" y2="453.2324"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="1081.25" y="447.1619">6</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="146.25" x="1095" y="447.1619">listTestsToDiagnose</text><polygon fill="#A80036" points="1672.5,517.4219,1685,522.4219,1672.5,527.4219,1677.5,522.4219" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1060" x2="1680" y1="522.4219" y2="522.4219"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="1068.75" y="516.3513">7</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="401.25" x="1082.5" y="516.3513">listTestsToDiagnoseDTO = toDTO(listTestsToDiagnose)</text><path d="M1620,541.1719 L1711.25,541.1719 L1711.25,551.1719 L1698.75,563.6719 L1620,563.6719 L1620,541.1719 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.25;"/><rect fill="none" height="519.8047" style="stroke:#000000;stroke-width:2.5;" width="855" x="1620" y="541.1719"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="35" x="1638.75" y="559.2908">loop</text><text fill="#000000" font-family="sans-serif" font-size="13.75" font-weight="bold" lengthAdjust="spacing" textLength="275" x="1730" y="557.9456">[for each object in listTestsToDiagnose]</text><polygon fill="#A80036" points="2226.25,587.0508,2238.75,592.0508,2226.25,597.0508,2231.25,592.0508" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="1700" x2="2233.75" y1="592.0508" y2="592.0508"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="1708.75" y="585.9802">8</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="55" x="1722.5" y="585.9802">create()</text><rect fill="#FEFECE" filter="url(#f77pqig4qrlgn)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="216.25" x="2241.25" y="564.1113"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="198.75" x="2250" y="591.0278">listTestsToDiagnoseDTO</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="125" x="2286.875" y="613.0396">:List&lt;TestDTO&gt;</text><polygon fill="#A80036" points="2115.625,667.3242,2128.125,672.3242,2115.625,677.3242,2120.625,672.3242" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1700" x2="2123.125" y1="672.3242" y2="672.3242"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="1708.75" y="666.2537">9</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="77.5" x="1722.5" y="666.2537">obj = get(i)</text><line style="stroke:#A80036;stroke-width:1.25;" x1="1706.25" x2="1758.75" y1="779.0137" y2="779.0137"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1758.75" x2="1758.75" y1="779.0137" y2="795.2637"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1707.5" x2="1758.75" y1="795.2637" y2="795.2637"/><polygon fill="#A80036" points="1720,790.2637,1707.5,795.2637,1720,800.2637,1715,795.2637" style="stroke:#A80036;stroke-width:1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="1715" y="772.9431">10</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="151.25" x="1737.5" y="772.9431">objDTO = toDTO(obj)</text><polygon fill="#A80036" points="1908.75,896.9531,1921.25,901.9531,1908.75,906.9531,1913.75,901.9531" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="1700" x2="1916.25" y1="901.9531" y2="901.9531"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="1708.75" y="895.8826">11</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="171.25" x="1731.25" y="895.8826">create(NHSCode, code)</text><rect fill="#FEFECE" filter="url(#f77pqig4qrlgn)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="103.75" x="1923.75" y="874.0137"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="61.25" x="1945" y="900.9302">objDTO</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="86.25" x="1932.5" y="922.9419">:TestsDTO</text><polygon fill="#A80036" points="2115.625,977.2266,2128.125,982.2266,2115.625,987.2266,2120.625,982.2266" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="1700" x2="2123.125" y1="982.2266" y2="982.2266"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="1708.75" y="976.156">12</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="90" x="1731.25" y="976.156">add(objDTO)</text><polygon fill="#A80036" points="1073.75,1092.666,1061.25,1097.666,1073.75,1102.666,1068.75,1097.666" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="1066.25" x2="1692.5" y1="1097.666" y2="1097.666"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="1081.25" y="1091.5955">13</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="178.75" x="1103.75" y="1091.5955">listTestsToDiagnoseDTO</text><polygon fill="#A80036" points="667.5,1130.6055,655,1135.6055,667.5,1140.6055,662.5,1135.6055" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="660" x2="1052.5" y1="1135.6055" y2="1135.6055"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="675" y="1129.5349">14</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="178.75" x="697.5" y="1129.5349">listTestsToDiagnoseDTO</text><polygon fill="#A80036" points="96.25,1168.5449,83.75,1173.5449,96.25,1178.5449,91.25,1173.5449" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="88.75" x2="646.25" y1="1173.5449" y2="1173.5449"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="103.75" y="1167.4744">15</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="506.25" x="126.25" y="1167.4744">shows list of tests ready to make a diagnosis and asks to selects one</text><polygon fill="#A80036" points="626.25,1206.4844,638.75,1211.4844,626.25,1216.4844,631.25,1211.4844" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="82.5" x2="633.75" y1="1211.4844" y2="1211.4844"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="91.25" y="1205.4138">16</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="98.75" x="113.75" y="1205.4138">selects a test</text><polygon fill="#A80036" points="96.25,1244.4238,83.75,1249.4238,96.25,1254.4238,91.25,1249.4238" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="88.75" x2="646.25" y1="1249.4238" y2="1249.4238"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="103.75" y="1243.3533">17</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="182.5" x="126.25" y="1243.3533">requests data(i.e., report)</text><polygon fill="#A80036" points="626.25,1282.3633,638.75,1287.3633,626.25,1292.3633,631.25,1287.3633" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="82.5" x2="633.75" y1="1287.3633" y2="1287.3633"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="91.25" y="1281.2927">18</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="152.5" x="113.75" y="1281.2927">types requested data</text><polygon fill="#A80036" points="1032.5,1320.3027,1045,1325.3027,1032.5,1330.3027,1037.5,1325.3027" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="653.75" x2="1040" y1="1325.3027" y2="1325.3027"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="662.5" y="1319.2322">19</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="102.5" x="685" y="1319.2322">createReport()</text><polygon fill="#A80036" points="1271.25,1358.2422,1283.75,1363.2422,1271.25,1368.2422,1276.25,1363.2422" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1060" x2="1278.75" y1="1363.2422" y2="1363.2422"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="1068.75" y="1357.1716">20</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="163.75" x="1091.25" y="1357.1716">report = createReport()</text><polygon fill="#A80036" points="1523.75,1396.1816,1536.25,1401.1816,1523.75,1406.1816,1528.75,1401.1816" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="1292.5" x2="1531.25" y1="1401.1816" y2="1401.1816"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="1301.25" y="1395.1111">21</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="55" x="1323.75" y="1395.1111">create()</text><rect fill="#FEFECE" filter="url(#f77pqig4qrlgn)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="76.25" x="1538.75" y="1373.2422"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="21.25" x="1566.25" y="1400.1587">rpt</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="58.75" x="1547.5" y="1422.1704">:Report</text><polygon fill="#A80036" points="667.5,1476.4551,655,1481.4551,667.5,1486.4551,662.5,1481.4551" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="660" x2="1052.5" y1="1481.4551" y2="1481.4551"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="675" y="1475.3845">22</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="40" x="697.5" y="1475.3845">result</text><polygon fill="#A80036" points="96.25,1514.3945,83.75,1519.3945,96.25,1524.3945,91.25,1519.3945" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="88.75" x2="646.25" y1="1519.3945" y2="1519.3945"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="103.75" y="1513.324">23</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="315" x="126.25" y="1513.324">shows the data and requests a confirmation</text><polygon fill="#A80036" points="626.25,1552.334,638.75,1557.334,626.25,1562.334,631.25,1557.334" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="82.5" x2="633.75" y1="1557.334" y2="1557.334"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="91.25" y="1551.2634">24</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="125" x="113.75" y="1551.2634">confirms the data</text><polygon fill="#A80036" points="1032.5,1590.2734,1045,1595.2734,1032.5,1600.2734,1037.5,1595.2734" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="653.75" x2="1040" y1="1595.2734" y2="1595.2734"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="662.5" y="1589.2029">25</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="118.75" x="685" y="1589.2029">addReport(code)</text><polygon fill="#A80036" points="1271.25,1628.2129,1283.75,1633.2129,1271.25,1638.2129,1276.25,1633.2129" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1060" x2="1278.75" y1="1633.2129" y2="1633.2129"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="1068.75" y="1627.1423">26</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="180" x="1091.25" y="1627.1423">tstStore = getTestStore()</text><polygon fill="#A80036" points="1452.5,1734.9023,1465,1739.9023,1452.5,1744.9023,1457.5,1739.9023" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1060" x2="1460" y1="1739.9023" y2="1739.9023"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="1068.75" y="1733.8318">27</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="268.75" x="1091.25" y="1733.8318">selectedTest = getTestByCode(code)</text><polygon fill="#A80036" points="1452.5,1841.5918,1465,1846.5918,1452.5,1851.5918,1457.5,1846.5918" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1060" x2="1460" y1="1846.5918" y2="1846.5918"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="1068.75" y="1840.5212">28</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="176.25" x="1091.25" y="1840.5212">addReport(selectedTest)</text><polygon fill="#A80036" points="667.5,1948.2813,655,1953.2813,667.5,1958.2813,662.5,1953.2813" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="660" x2="1052.5" y1="1953.2813" y2="1953.2813"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="675" y="1947.2107">29</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="40" x="697.5" y="1947.2107">result</text><polygon fill="#A80036" points="90,1986.2207,77.5,1991.2207,90,1996.2207,85,1991.2207" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="82.5" x2="646.25" y1="1991.2207" y2="1991.2207"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="97.5" y="1985.1501">30</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="190" x="120" y="1985.1501">informs operation success</text><!--MD5=[4f78928fd6cc10bafe2d9f7f5a9f2be6]
@startuml
autonumber
actor "Specialist Doctor" as SPDT

participant ":WriteReportUI" as UI
participant ":WriteReportController" as CTRL
participant ":Company" as CMP
participant "tstStore\n:TestStore" as TSTSTORE
participant "rpt\n:Report" as RPT
participant ":TestMapper" as TSTMAPPER
participant "objDTO\n:TestsDTO" as OBJ_DTO
participant "listTestsToDiagnose\n:List<Test>" as LT
participant "listTestsToDiagnoseDTO\n:List<TestDTO>" as LIST_DTO
participant "tst\n:Test" as TST

activate SPDT
SPDT -> UI : asks to make diagnosis
activate UI
UI -> CTRL : listTestsToDiagnoseDTO = getTestsToDiagnose()
activate CTRL

CTRL -> CMP : tstStore = getTestStore()
activate CMP
|||
deactivate CMP

CTRL -> TSTSTORE : listTestsToDiagnose = getTestsReadyToDiagnose()
activate TSTSTORE

TSTSTORE - -> LT** : create()
TSTSTORE - -> CTRL : listTestsToDiagnose
deactivate TSTSTORE
|||

CTRL -> TSTMAPPER : listTestsToDiagnoseDTO = toDTO(listTestsToDiagnose)
activate TSTMAPPER

loop for each object in listTestsToDiagnose
TSTMAPPER - -> LIST_DTO** : create()
TSTMAPPER -> LT : obj = get(i)
activate LT
|||
deactivate LT

TSTMAPPER -> TSTMAPPER : objDTO = toDTO(obj)
activate TSTMAPPER
|||
deactivate TSTMAPPER

TSTMAPPER - -> OBJ_DTO** : create(NHSCode, code)

TSTMAPPER - -> LT : add(objDTO)
activate LT
|||
deactivate LT
end

TSTMAPPER - -> CTRL : listTestsToDiagnoseDTO
deactivate TSTMAPPER

CTRL - -> UI : listTestsToDiagnoseDTO
deactivate CTRL

UI - -> SPDT : shows list of tests ready to make a diagnosis and asks to selects one
deactivate UI

'spdt writes the test code in the UI
'it uses the test code when adding the report

SPDT -> UI : selects a test
activate UI

UI - -> SPDT : requests data(i.e., report)
deactivate UI

SPDT -> UI : types requested data
activate UI

UI -> CTRL : createReport()
activate CTRL

CTRL -> CMP : report = createReport()
activate CMP

CMP - -> RPT** : create()
deactivate CMP

CTRL - -> UI : result
deactivate CTRL
UI - -> SPDT : shows the data and requests a confirmation
deactivate UI

SPDT -> UI : confirms the data
activate UI

UI -> CTRL : addReport(code)
activate CTRL

CTRL -> CMP : tstStore = getTestStore()
activate CMP
|||
deactivate CMP

CTRL -> TSTSTORE : selectedTest = getTestByCode(code)
activate TSTSTORE
|||
deactivate TSTSTORE

CTRL -> TSTSTORE : addReport(selectedTest)
activate TSTSTORE
|||
deactivate TSTSTORE

CTRL - -> UI : result
deactivate CMP
deactivate CTRL

UI - -> SPDT : informs operation success
deactivate UI
deactivate SPDT

@enduml

@startuml
autonumber
actor "Specialist Doctor" as SPDT

participant ":WriteReportUI" as UI
participant ":WriteReportController" as CTRL
participant ":Company" as CMP
participant "tstStore\n:TestStore" as TSTSTORE
participant "rpt\n:Report" as RPT
participant ":TestMapper" as TSTMAPPER
participant "objDTO\n:TestsDTO" as OBJ_DTO
participant "listTestsToDiagnose\n:List<Test>" as LT
participant "listTestsToDiagnoseDTO\n:List<TestDTO>" as LIST_DTO
participant "tst\n:Test" as TST

activate SPDT
SPDT -> UI : asks to make diagnosis
activate UI
UI -> CTRL : listTestsToDiagnoseDTO = getTestsToDiagnose()
activate CTRL

CTRL -> CMP : tstStore = getTestStore()
activate CMP
|||
deactivate CMP

CTRL -> TSTSTORE : listTestsToDiagnose = getTestsReadyToDiagnose()
activate TSTSTORE

TSTSTORE - -> LT** : create()
TSTSTORE - -> CTRL : listTestsToDiagnose
deactivate TSTSTORE
|||

CTRL -> TSTMAPPER : listTestsToDiagnoseDTO = toDTO(listTestsToDiagnose)
activate TSTMAPPER

loop for each object in listTestsToDiagnose
TSTMAPPER - -> LIST_DTO** : create()
TSTMAPPER -> LT : obj = get(i)
activate LT
|||
deactivate LT

TSTMAPPER -> TSTMAPPER : objDTO = toDTO(obj)
activate TSTMAPPER
|||
deactivate TSTMAPPER

TSTMAPPER - -> OBJ_DTO** : create(NHSCode, code)

TSTMAPPER - -> LT : add(objDTO)
activate LT
|||
deactivate LT
end

TSTMAPPER - -> CTRL : listTestsToDiagnoseDTO
deactivate TSTMAPPER

CTRL - -> UI : listTestsToDiagnoseDTO
deactivate CTRL

UI - -> SPDT : shows list of tests ready to make a diagnosis and asks to selects one
deactivate UI


SPDT -> UI : selects a test
activate UI

UI - -> SPDT : requests data(i.e., report)
deactivate UI

SPDT -> UI : types requested data
activate UI

UI -> CTRL : createReport()
activate CTRL

CTRL -> CMP : report = createReport()
activate CMP

CMP - -> RPT** : create()
deactivate CMP

CTRL - -> UI : result
deactivate CTRL
UI - -> SPDT : shows the data and requests a confirmation
deactivate UI

SPDT -> UI : confirms the data
activate UI

UI -> CTRL : addReport(code)
activate CTRL

CTRL -> CMP : tstStore = getTestStore()
activate CMP
|||
deactivate CMP

CTRL -> TSTSTORE : selectedTest = getTestByCode(code)
activate TSTSTORE
|||
deactivate TSTSTORE

CTRL -> TSTSTORE : addReport(selectedTest)
activate TSTSTORE
|||
deactivate TSTSTORE

CTRL - -> UI : result
deactivate CMP
deactivate CTRL

UI - -> SPDT : informs operation success
deactivate UI
deactivate SPDT

@enduml

PlantUML version 1.2021.5(Sun Apr 25 12:20:28 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>