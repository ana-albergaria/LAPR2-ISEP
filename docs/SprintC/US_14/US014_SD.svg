<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1682.5px" preserveAspectRatio="none" style="width:2267px;height:1682px;" version="1.1" viewBox="0 0 2267 1682" width="2267.5px" zoomAndPan="magnify"><defs><filter height="300%" id="f1c60ejm9nag39" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.5"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="5.0" dy="5.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="1429.4727" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="88.75" y="124.5117"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="575.1074" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="870" y="152.4512"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="37.9395" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="870" y="765.498"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="232.0313" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="870" y="841.377"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="442.6367" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="870" y="1111.3477"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="467.5391" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1276.25" y="222.0801"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="156.1523" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1276.25" y="879.3164"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="358.0078" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1276.25" y="1149.2871"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1571.25" y="260.0195"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="37.9395" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1571.25" y="917.2559"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1571.25" y="1187.2266"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="118.2129" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1696.25" y="366.709"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1696.25" y="1293.916"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1696.25" y="1400.6055"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="97.5684" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1916.25" y="554.1113"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="1346.0938" style="stroke:#000000;stroke-width:2.5;" width="2180" x="12.5" y="171.2012"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="95" x2="95" y1="112.0117" y2="1576.4844"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="876.25" x2="876.25" y1="112.0117" y2="1576.4844"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="1282.5" x2="1282.5" y1="112.0117" y2="1576.4844"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="1577.5" x2="1577.5" y1="112.0117" y2="1576.4844"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="1702.5" x2="1702.5" y1="112.0117" y2="1576.4844"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="1807.5" x2="1807.5" y1="979.8926" y2="1576.4844"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="1922.5" x2="1922.5" y1="112.0117" y2="1576.4844"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="2087.5" x2="2087.5" y1="429.3457" y2="1576.4844"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="2223.75" x2="2223.75" y1="112.0117" y2="1576.4844"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="132.5" x="25" y="108.1665">Specialist Doctor</text><ellipse cx="95" cy="18.75" fill="#FEFECE" filter="url(#f1c60ejm9nag39)" rx="10" ry="10" style="stroke:#A80036;stroke-width:2.5;"/><path d="M95,28.75 L95,62.5 M78.75,38.75 L111.25,38.75 M95,62.5 L78.75,81.25 M95,62.5 L111.25,81.25 " fill="none" filter="url(#f1c60ejm9nag39)" style="stroke:#A80036;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="132.5" x="25" y="1593.4009">Specialist Doctor</text><ellipse cx="95" cy="1609.7461" fill="#FEFECE" filter="url(#f1c60ejm9nag39)" rx="10" ry="10" style="stroke:#A80036;stroke-width:2.5;"/><path d="M95,1619.7461 L95,1653.4961 M78.75,1629.7461 L111.25,1629.7461 M95,1653.4961 L78.75,1672.2461 M95,1653.4961 L111.25,1672.2461 " fill="none" filter="url(#f1c60ejm9nag39)" style="stroke:#A80036;stroke-width:2.5;"/><rect fill="#FEFECE" filter="url(#f1c60ejm9nag39)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="132.5" x="807.5" y="66.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="115" x="816.25" y="93.1665">:WriteReportUI</text><rect fill="#FEFECE" filter="url(#f1c60ejm9nag39)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="132.5" x="807.5" y="1575.2344"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="115" x="816.25" y="1602.1509">:WriteReportUI</text><rect fill="#FEFECE" filter="url(#f1c60ejm9nag39)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="195" x="1182.5" y="66.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="177.5" x="1191.25" y="93.1665">:WriteReportController</text><rect fill="#FEFECE" filter="url(#f1c60ejm9nag39)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="195" x="1182.5" y="1575.2344"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="177.5" x="1191.25" y="1602.1509">:WriteReportController</text><rect fill="#FEFECE" filter="url(#f1c60ejm9nag39)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="97.5" x="1526.25" y="66.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="80" x="1535" y="93.1665">:Company</text><rect fill="#FEFECE" filter="url(#f1c60ejm9nag39)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="97.5" x="1526.25" y="1575.2344"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="80" x="1535" y="1602.1509">:Company</text><rect fill="#FEFECE" filter="url(#f1c60ejm9nag39)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="100" x="1650" y="44.2383"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="61.25" x="1669.375" y="71.1548">tstStore</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="82.5" x="1658.75" y="93.1665">:TestStore</text><rect fill="#FEFECE" filter="url(#f1c60ejm9nag39)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="100" x="1650" y="1575.2344"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="61.25" x="1669.375" y="1602.1509">tstStore</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="82.5" x="1658.75" y="1624.1626">:TestStore</text><rect fill="#FEFECE" filter="url(#f1c60ejm9nag39)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="76.25" x="1767.5" y="1575.2344"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="21.25" x="1795" y="1602.1509">rpt</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="58.75" x="1776.25" y="1624.1626">:Report</text><rect fill="#FEFECE" filter="url(#f1c60ejm9nag39)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="117.5" x="1861.25" y="66.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="100" x="1870" y="93.1665">:TestMapper</text><rect fill="#FEFECE" filter="url(#f1c60ejm9nag39)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="117.5" x="1861.25" y="1575.2344"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="100" x="1870" y="1602.1509">:TestMapper</text><rect fill="#FEFECE" filter="url(#f1c60ejm9nag39)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="178.75" x="1996.25" y="1575.2344"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="161.25" x="2005" y="1602.1509">listTestsToDiagnose</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="87.5" x="2041.875" y="1624.1626">:List&lt;Test&gt;</text><rect fill="#FEFECE" filter="url(#f1c60ejm9nag39)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="57.5" x="2192.5" y="44.2383"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="18.75" x="2211.875" y="71.1548">tst</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="40" x="2201.25" y="93.1665">:Test</text><rect fill="#FEFECE" filter="url(#f1c60ejm9nag39)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="57.5" x="2192.5" y="1575.2344"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="18.75" x="2211.875" y="1602.1509">tst</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="40" x="2201.25" y="1624.1626">:Test</text><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="1429.4727" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="88.75" y="124.5117"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="575.1074" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="870" y="152.4512"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="37.9395" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="870" y="765.498"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="232.0313" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="870" y="841.377"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="442.6367" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="870" y="1111.3477"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="467.5391" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1276.25" y="222.0801"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="156.1523" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1276.25" y="879.3164"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="358.0078" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1276.25" y="1149.2871"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1571.25" y="260.0195"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="37.9395" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1571.25" y="917.2559"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1571.25" y="1187.2266"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="118.2129" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1696.25" y="366.709"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1696.25" y="1293.916"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1696.25" y="1400.6055"/><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="97.5684" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1916.25" y="554.1113"/><polygon fill="#A80036" points="855,147.4512,867.5,152.4512,855,157.4512,860,152.4512" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="101.25" x2="862.5" y1="152.4512" y2="152.4512"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="110" y="146.3806">1</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="302.5" x="123.75" y="146.3806">asks to make diagnosis and write a report</text><path d="M12.5,171.2012 L103.75,171.2012 L103.75,181.2012 L91.25,193.7012 L12.5,193.7012 L12.5,171.2012 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.25;"/><rect fill="none" height="1346.0938" style="stroke:#000000;stroke-width:2.5;" width="2180" x="12.5" y="171.2012"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="35" x="31.25" y="189.3201">loop</text><text fill="#000000" font-family="sans-serif" font-size="13.75" font-weight="bold" lengthAdjust="spacing" textLength="635" x="122.5" y="187.9749">[while the specialist doctor wants to make a diagnosis and write a report for one more test]</text><polygon fill="#A80036" points="1261.25,217.0801,1273.75,222.0801,1261.25,227.0801,1266.25,222.0801" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="882.5" x2="1268.75" y1="222.0801" y2="222.0801"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="891.25" y="216.0095">2</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="356.25" x="905" y="216.0095">listTestsToDiagnoseDTO = getTestsToDiagnose()</text><polygon fill="#A80036" points="1556.25,255.0195,1568.75,260.0195,1556.25,265.0195,1561.25,260.0195" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1288.75" x2="1563.75" y1="260.0195" y2="260.0195"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="1297.5" y="253.949">3</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="180" x="1311.25" y="253.949">tstStore = getTestStore()</text><polygon fill="#A80036" points="1681.25,361.709,1693.75,366.709,1681.25,371.709,1686.25,366.709" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1288.75" x2="1688.75" y1="366.709" y2="366.709"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="1297.5" y="360.6384">4</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="370" x="1311.25" y="360.6384">listTestsToDiagnose = getTestsReadyToDiagnose()</text><polygon fill="#A80036" points="1981.25,399.6484,1993.75,404.6484,1981.25,409.6484,1986.25,404.6484" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="1708.75" x2="1988.75" y1="404.6484" y2="404.6484"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="1717.5" y="398.5779">5</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="55" x="1731.25" y="398.5779">create()</text><rect fill="#FEFECE" filter="url(#f1c60ejm9nag39)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="178.75" x="1996.25" y="376.709"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="161.25" x="2005" y="403.6255">listTestsToDiagnose</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="87.5" x="2041.875" y="425.6372">:List&lt;Test&gt;</text><polygon fill="#A80036" points="1302.5,479.9219,1290,484.9219,1302.5,489.9219,1297.5,484.9219" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="1295" x2="1701.25" y1="484.9219" y2="484.9219"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="1310" y="478.8513">6</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="146.25" x="1323.75" y="478.8513">listTestsToDiagnose</text><polygon fill="#A80036" points="1901.25,549.1113,1913.75,554.1113,1901.25,559.1113,1906.25,554.1113" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1288.75" x2="1908.75" y1="554.1113" y2="554.1113"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="1297.5" y="548.0408">7</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="401.25" x="1311.25" y="548.0408">listTestsToDiagnoseDTO = toDTO(listTestsToDiagnose)</text><rect fill="#FFFFFF" filter="url(#f1c60ejm9nag39)" height="53.3789" style="stroke:#000000;stroke-width:2.5;" width="265" x="1857.5" y="564.1113"/><polygon fill="#EEEEEE" points="1857.5,564.1113,1935,564.1113,1935,574.1113,1922.5,586.6113,1857.5,586.6113,1857.5,564.1113" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="21.25" x="1873.75" y="583.4802">ref</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="255" x="1865" y="608.4802">US14_SD_TestMapper_toDTO_List</text><polygon fill="#A80036" points="1302.5,646.6797,1290,651.6797,1302.5,656.6797,1297.5,651.6797" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="1295" x2="1921.25" y1="651.6797" y2="651.6797"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="1310" y="645.6091">8</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="178.75" x="1323.75" y="645.6091">listTestsToDiagnoseDTO</text><polygon fill="#A80036" points="896.25,684.6191,883.75,689.6191,896.25,694.6191,891.25,689.6191" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="888.75" x2="1281.25" y1="689.6191" y2="689.6191"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="903.75" y="683.5486">9</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="178.75" x="917.5" y="683.5486">listTestsToDiagnoseDTO</text><polygon fill="#A80036" points="115,722.5586,102.5,727.5586,115,732.5586,110,727.5586" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="107.5" x2="875" y1="727.5586" y2="727.5586"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="122.5" y="721.488">10</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="506.25" x="145" y="721.488">shows list of tests ready to make a diagnosis and asks to selects one</text><polygon fill="#A80036" points="855,760.498,867.5,765.498,855,770.498,860,765.498" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="101.25" x2="862.5" y1="765.498" y2="765.498"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="110" y="759.4275">11</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="98.75" x="132.5" y="759.4275">selects a test</text><polygon fill="#A80036" points="115,798.4375,102.5,803.4375,115,808.4375,110,803.4375" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="107.5" x2="875" y1="803.4375" y2="803.4375"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="122.5" y="797.3669">12</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="716.25" x="145" y="797.3669">shows chemical results and reference values of the selected test and requests data(i.e., reportText)</text><polygon fill="#A80036" points="855,836.377,867.5,841.377,855,846.377,860,841.377" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="101.25" x2="862.5" y1="841.377" y2="841.377"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="110" y="835.3064">13</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="152.5" x="132.5" y="835.3064">types requested data</text><polygon fill="#A80036" points="1261.25,874.3164,1273.75,879.3164,1261.25,884.3164,1266.25,879.3164" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="882.5" x2="1268.75" y1="879.3164" y2="879.3164"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="891.25" y="873.2458">14</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="175" x="913.75" y="873.2458">createReport(reportText)</text><polygon fill="#A80036" points="1556.25,912.2559,1568.75,917.2559,1556.25,922.2559,1561.25,917.2559" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1288.75" x2="1563.75" y1="917.2559" y2="917.2559"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="1297.5" y="911.1853">15</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="236.25" x="1320" y="911.1853">report = createReport(reportText)</text><polygon fill="#A80036" points="1752.5,950.1953,1765,955.1953,1752.5,960.1953,1757.5,955.1953" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="1577.5" x2="1760" y1="955.1953" y2="955.1953"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="1586.25" y="949.1248">16</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="127.5" x="1608.75" y="949.1248">create(reportText)</text><rect fill="#FEFECE" filter="url(#f1c60ejm9nag39)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="76.25" x="1767.5" y="927.2559"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="21.25" x="1795" y="954.1724">rpt</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="58.75" x="1776.25" y="976.1841">:Report</text><polygon fill="#A80036" points="896.25,1030.4688,883.75,1035.4688,896.25,1040.4688,891.25,1035.4688" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="888.75" x2="1281.25" y1="1035.4688" y2="1035.4688"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="903.75" y="1029.3982">17</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="40" x="926.25" y="1029.3982">result</text><polygon fill="#A80036" points="115,1068.4082,102.5,1073.4082,115,1078.4082,110,1073.4082" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="107.5" x2="875" y1="1073.4082" y2="1073.4082"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="122.5" y="1067.3376">18</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="315" x="145" y="1067.3376">shows the data and requests a confirmation</text><polygon fill="#A80036" points="855,1106.3477,867.5,1111.3477,855,1116.3477,860,1111.3477" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="101.25" x2="862.5" y1="1111.3477" y2="1111.3477"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="110" y="1105.2771">19</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="125" x="132.5" y="1105.2771">confirms the data</text><polygon fill="#A80036" points="1261.25,1144.2871,1273.75,1149.2871,1261.25,1154.2871,1266.25,1149.2871" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="882.5" x2="1268.75" y1="1149.2871" y2="1149.2871"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="891.25" y="1143.2166">20</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="167.5" x="913.75" y="1143.2166">addReportToTest(code)</text><polygon fill="#A80036" points="1556.25,1182.2266,1568.75,1187.2266,1556.25,1192.2266,1561.25,1187.2266" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1288.75" x2="1563.75" y1="1187.2266" y2="1187.2266"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="1297.5" y="1181.156">21</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="180" x="1320" y="1181.156">tstStore = getTestStore()</text><polygon fill="#A80036" points="1681.25,1288.916,1693.75,1293.916,1681.25,1298.916,1686.25,1293.916" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1288.75" x2="1688.75" y1="1293.916" y2="1293.916"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="1297.5" y="1287.8455">22</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="268.75" x="1320" y="1287.8455">selectedTest = getTestByCode(code)</text><polygon fill="#A80036" points="1681.25,1395.6055,1693.75,1400.6055,1681.25,1405.6055,1686.25,1400.6055" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1288.75" x2="1688.75" y1="1400.6055" y2="1400.6055"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="1297.5" y="1394.5349">23</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="225" x="1320" y="1394.5349">addReportToTest(selectedTest)</text><polygon fill="#A80036" points="896.25,1502.2949,883.75,1507.2949,896.25,1512.2949,891.25,1507.2949" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="888.75" x2="1281.25" y1="1507.2949" y2="1507.2949"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="903.75" y="1501.2244">24</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="40" x="926.25" y="1501.2244">result</text><polygon fill="#A80036" points="108.75,1548.9844,96.25,1553.9844,108.75,1558.9844,103.75,1553.9844" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="101.25" x2="875" y1="1553.9844" y2="1553.9844"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="116.25" y="1547.9138">25</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="190" x="138.75" y="1547.9138">informs operation success</text><!--MD5=[07bef4118f276d29756b09ed2c965558]
@startuml
autonumber
actor "Specialist Doctor" as SPDT

participant ":WriteReportUI" as UI
participant ":WriteReportController" as CTRL
participant ":Company" as CMP
participant "tstStore\n:TestStore" as TSTSTORE
participant "rpt\n:Report" as RPT
participant ":TestMapper" as TSTMAPPER
'participant "objDTO\n:TestsDTO" as OBJ_DTO
participant "listTestsToDiagnose\n:List<Test>" as LT
'participant "listTestsToDiagnoseDTO\n:List<TestDTO>" as LIST_DTO
participant "tst\n:Test" as TST

activate SPDT
SPDT -> UI : asks to make diagnosis and write a report
activate UI
loop while the specialist doctor wants to make a diagnosis and write a report for one more test
UI -> CTRL : listTestsToDiagnoseDTO = getTestsToDiagnose()
activate CTRL

CTRL -> CMP : tstStore = getTestStore()
activate CMP
|||
deactivate CMP

CTRL -> TSTSTORE : listTestsToDiagnose = getTestsReadyToDiagnose()
activate TSTSTORE

TSTSTORE - -> LT** : create()
TSTSTORE - -> CTRL : listTestsToDiagnose
deactivate TSTSTORE
|||

CTRL -> TSTMAPPER : listTestsToDiagnoseDTO = toDTO(listTestsToDiagnose)
activate TSTMAPPER

ref over TSTMAPPER : US14_SD_TestMapper_toDTO_List

TSTMAPPER - -> CTRL : listTestsToDiagnoseDTO
deactivate TSTMAPPER

CTRL - -> UI : listTestsToDiagnoseDTO
deactivate CTRL

UI - -> SPDT : shows list of tests ready to make a diagnosis and asks to selects one
deactivate UI

'spdt writes the test code in the UI
'it uses the test code when adding the report

SPDT -> UI : selects a test
activate UI

UI - -> SPDT : shows chemical results and reference values of the selected test and requests data(i.e., reportText)
deactivate UI

SPDT -> UI : types requested data
activate UI

UI -> CTRL : createReport(reportText)
activate CTRL

CTRL -> CMP : report = createReport(reportText)
activate CMP

CMP - -> RPT** : create(reportText)
deactivate CMP

CTRL - -> UI : result
deactivate CTRL
UI - -> SPDT : shows the data and requests a confirmation
deactivate UI

SPDT -> UI : confirms the data
activate UI

UI -> CTRL : addReportToTest(code)
activate CTRL

CTRL -> CMP : tstStore = getTestStore()
activate CMP
|||
deactivate CMP

CTRL -> TSTSTORE : selectedTest = getTestByCode(code)
activate TSTSTORE
|||
deactivate TSTSTORE

CTRL -> TSTSTORE : addReportToTest(selectedTest)
activate TSTSTORE
|||
deactivate TSTSTORE

CTRL - -> UI : result
deactivate CMP
deactivate CTRL

end

UI - -> SPDT : informs operation success
deactivate UI
deactivate SPDT

@enduml

@startuml
autonumber
actor "Specialist Doctor" as SPDT

participant ":WriteReportUI" as UI
participant ":WriteReportController" as CTRL
participant ":Company" as CMP
participant "tstStore\n:TestStore" as TSTSTORE
participant "rpt\n:Report" as RPT
participant ":TestMapper" as TSTMAPPER
participant "listTestsToDiagnose\n:List<Test>" as LT
participant "tst\n:Test" as TST

activate SPDT
SPDT -> UI : asks to make diagnosis and write a report
activate UI
loop while the specialist doctor wants to make a diagnosis and write a report for one more test
UI -> CTRL : listTestsToDiagnoseDTO = getTestsToDiagnose()
activate CTRL

CTRL -> CMP : tstStore = getTestStore()
activate CMP
|||
deactivate CMP

CTRL -> TSTSTORE : listTestsToDiagnose = getTestsReadyToDiagnose()
activate TSTSTORE

TSTSTORE - -> LT** : create()
TSTSTORE - -> CTRL : listTestsToDiagnose
deactivate TSTSTORE
|||

CTRL -> TSTMAPPER : listTestsToDiagnoseDTO = toDTO(listTestsToDiagnose)
activate TSTMAPPER

ref over TSTMAPPER : US14_SD_TestMapper_toDTO_List

TSTMAPPER - -> CTRL : listTestsToDiagnoseDTO
deactivate TSTMAPPER

CTRL - -> UI : listTestsToDiagnoseDTO
deactivate CTRL

UI - -> SPDT : shows list of tests ready to make a diagnosis and asks to selects one
deactivate UI


SPDT -> UI : selects a test
activate UI

UI - -> SPDT : shows chemical results and reference values of the selected test and requests data(i.e., reportText)
deactivate UI

SPDT -> UI : types requested data
activate UI

UI -> CTRL : createReport(reportText)
activate CTRL

CTRL -> CMP : report = createReport(reportText)
activate CMP

CMP - -> RPT** : create(reportText)
deactivate CMP

CTRL - -> UI : result
deactivate CTRL
UI - -> SPDT : shows the data and requests a confirmation
deactivate UI

SPDT -> UI : confirms the data
activate UI

UI -> CTRL : addReportToTest(code)
activate CTRL

CTRL -> CMP : tstStore = getTestStore()
activate CMP
|||
deactivate CMP

CTRL -> TSTSTORE : selectedTest = getTestByCode(code)
activate TSTSTORE
|||
deactivate TSTSTORE

CTRL -> TSTSTORE : addReportToTest(selectedTest)
activate TSTSTORE
|||
deactivate TSTSTORE

CTRL - -> UI : result
deactivate CMP
deactivate CTRL

end

UI - -> SPDT : informs operation success
deactivate UI
deactivate SPDT

@enduml

PlantUML version 1.2021.5(Sun Apr 25 12:20:28 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>