<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2185px" preserveAspectRatio="none" style="width:3352px;height:2185px;" version="1.1" viewBox="0 0 3352 2185" width="3352.5px" zoomAndPan="magnify"><defs><filter height="300%" id="fqc5xrkf3r1cp" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.5"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="5.0" dy="5.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="1932.1094" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="88.75" y="124.5117"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="575.1074" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="870" y="152.4512"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="540.5762" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="870" y="765.498"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="232.0313" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="870" y="1344.0137"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="442.6367" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="870" y="1613.9844"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="467.5391" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1302.5" y="222.0801"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="464.6973" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1302.5" y="803.4375"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="156.1523" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1302.5" y="1381.9531"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="358.0078" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1302.5" y="1651.9238"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1597.5" y="260.0195"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1597.5" y="841.377"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="37.9395" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1597.5" y="1419.8926"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1597.5" y="1689.8633"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="118.2129" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1722.5" y="366.709"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1722.5" y="948.0664"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1722.5" y="1054.7559"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1722.5" y="1796.5527"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1722.5" y="1903.2422"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="97.5684" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1942.5" y="554.1113"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="2285" y="1161.4453"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="1848.7305" style="stroke:#000000;stroke-width:2.5;" width="2363.75" x="12.5" y="171.2012"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="95" x2="95" y1="112.0117" y2="2079.1211"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="876.25" x2="876.25" y1="112.0117" y2="2079.1211"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="1308.75" x2="1308.75" y1="112.0117" y2="2079.1211"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="1603.75" x2="1603.75" y1="112.0117" y2="2079.1211"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="1728.75" x2="1728.75" y1="112.0117" y2="2079.1211"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="1833.75" x2="1833.75" y1="1482.5293" y2="2079.1211"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="1948.75" x2="1948.75" y1="112.0117" y2="2079.1211"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="2113.75" x2="2113.75" y1="429.3457" y2="2079.1211"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="2291.25" x2="2291.25" y1="112.0117" y2="2079.1211"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="2486.25" x2="2486.25" y1="112.0117" y2="2079.1211"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="2706.25" x2="2706.25" y1="112.0117" y2="2079.1211"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="2936.25" x2="2936.25" y1="112.0117" y2="2079.1211"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="3167.5" x2="3167.5" y1="112.0117" y2="2079.1211"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="3308.75" x2="3308.75" y1="112.0117" y2="2079.1211"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="132.5" x="25" y="108.1665">Specialist Doctor</text><ellipse cx="95" cy="18.75" fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" rx="10" ry="10" style="stroke:#A80036;stroke-width:2.5;"/><path d="M95,28.75 L95,62.5 M78.75,38.75 L111.25,38.75 M95,62.5 L78.75,81.25 M95,62.5 L111.25,81.25 " fill="none" filter="url(#fqc5xrkf3r1cp)" style="stroke:#A80036;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="132.5" x="25" y="2096.0376">Specialist Doctor</text><ellipse cx="95" cy="2112.3828" fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" rx="10" ry="10" style="stroke:#A80036;stroke-width:2.5;"/><path d="M95,2122.3828 L95,2156.1328 M78.75,2132.3828 L111.25,2132.3828 M95,2156.1328 L78.75,2174.8828 M95,2156.1328 L111.25,2174.8828 " fill="none" filter="url(#fqc5xrkf3r1cp)" style="stroke:#A80036;stroke-width:2.5;"/><rect fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="132.5" x="807.5" y="66.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="115" x="816.25" y="93.1665">:WriteReportUI</text><rect fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="132.5" x="807.5" y="2077.8711"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="115" x="816.25" y="2104.7876">:WriteReportUI</text><rect fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="195" x="1208.75" y="66.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="177.5" x="1217.5" y="93.1665">:WriteReportController</text><rect fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="195" x="1208.75" y="2077.8711"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="177.5" x="1217.5" y="2104.7876">:WriteReportController</text><rect fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="97.5" x="1552.5" y="66.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="80" x="1561.25" y="93.1665">:Company</text><rect fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="97.5" x="1552.5" y="2077.8711"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="80" x="1561.25" y="2104.7876">:Company</text><rect fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="100" x="1676.25" y="44.2383"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="61.25" x="1695.625" y="71.1548">tstStore</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="82.5" x="1685" y="93.1665">:TestStore</text><rect fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="100" x="1676.25" y="2077.8711"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="61.25" x="1695.625" y="2104.7876">tstStore</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="82.5" x="1685" y="2126.7993">:TestStore</text><rect fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="76.25" x="1793.75" y="2077.8711"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="21.25" x="1821.25" y="2104.7876">rpt</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="58.75" x="1802.5" y="2126.7993">:Report</text><rect fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="117.5" x="1887.5" y="66.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="100" x="1896.25" y="93.1665">:TestMapper</text><rect fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="117.5" x="1887.5" y="2077.8711"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="100" x="1896.25" y="2104.7876">:TestMapper</text><rect fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="178.75" x="2022.5" y="2077.8711"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="161.25" x="2031.25" y="2104.7876">listTestsToDiagnose</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="87.5" x="2068.125" y="2126.7993">:List&lt;Test&gt;</text><rect fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="140" x="2218.75" y="44.2383"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="80" x="2248.75" y="71.1548">testParam</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="122.5" x="2227.5" y="93.1665">:TestParameter</text><rect fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="140" x="2218.75" y="2077.8711"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="80" x="2248.75" y="2104.7876">testParam</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="122.5" x="2227.5" y="2126.7993">:TestParameter</text><rect fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="216.25" x="2376.25" y="44.2383"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="198.75" x="2385" y="71.1548">listTestsToDiagnoseDTO</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="125" x="2421.875" y="93.1665">:List&lt;TestDTO&gt;</text><rect fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="216.25" x="2376.25" y="2077.8711"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="198.75" x="2385" y="2104.7876">listTestsToDiagnoseDTO</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="125" x="2421.875" y="2126.7993">:List&lt;TestDTO&gt;</text><rect fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="187.5" x="2610" y="44.2383"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="116.25" x="2645.625" y="71.1548">listTestParams</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="170" x="2618.75" y="93.1665">:List&lt;TestParameter&gt;</text><rect fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="187.5" x="2610" y="2077.8711"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="116.25" x="2645.625" y="2104.7876">listTestParams</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="170" x="2618.75" y="2126.7993">:List&lt;TestParameter&gt;</text><rect fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="237.5" x="2815" y="44.2383"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="115" x="2876.25" y="71.1548">listTestResults</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="220" x="2823.75" y="93.1665">:List&lt;TestParameterResult&gt;</text><rect fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="237.5" x="2815" y="2077.8711"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="115" x="2876.25" y="2104.7876">listTestResults</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="220" x="2823.75" y="2126.7993">:List&lt;TestParameterResult&gt;</text><rect fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="190" x="3070" y="44.2383"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="78.75" x="3125.625" y="71.1548">testResult</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="172.5" x="3078.75" y="93.1665">:TestParameterResult</text><rect fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="190" x="3070" y="2077.8711"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="78.75" x="3125.625" y="2104.7876">testResult</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="172.5" x="3078.75" y="2126.7993">:TestParameterResult</text><rect fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="57.5" x="3277.5" y="44.2383"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="18.75" x="3296.875" y="71.1548">tst</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="40" x="3286.25" y="93.1665">:Test</text><rect fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="57.5" x="3277.5" y="2077.8711"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="18.75" x="3296.875" y="2104.7876">tst</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="40" x="3286.25" y="2126.7993">:Test</text><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="1932.1094" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="88.75" y="124.5117"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="575.1074" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="870" y="152.4512"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="540.5762" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="870" y="765.498"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="232.0313" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="870" y="1344.0137"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="442.6367" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="870" y="1613.9844"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="467.5391" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1302.5" y="222.0801"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="464.6973" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1302.5" y="803.4375"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="156.1523" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1302.5" y="1381.9531"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="358.0078" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1302.5" y="1651.9238"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1597.5" y="260.0195"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1597.5" y="841.377"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="37.9395" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1597.5" y="1419.8926"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1597.5" y="1689.8633"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="118.2129" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1722.5" y="366.709"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1722.5" y="948.0664"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1722.5" y="1054.7559"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1722.5" y="1796.5527"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1722.5" y="1903.2422"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="97.5684" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="1942.5" y="554.1113"/><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="2285" y="1161.4453"/><polygon fill="#A80036" points="855,147.4512,867.5,152.4512,855,157.4512,860,152.4512" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="101.25" x2="862.5" y1="152.4512" y2="152.4512"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="110" y="146.3806">1</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="302.5" x="123.75" y="146.3806">asks to make diagnosis and write a report</text><path d="M12.5,171.2012 L103.75,171.2012 L103.75,181.2012 L91.25,193.7012 L12.5,193.7012 L12.5,171.2012 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.25;"/><rect fill="none" height="1848.7305" style="stroke:#000000;stroke-width:2.5;" width="2363.75" x="12.5" y="171.2012"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="35" x="31.25" y="189.3201">loop</text><text fill="#000000" font-family="sans-serif" font-size="13.75" font-weight="bold" lengthAdjust="spacing" textLength="635" x="122.5" y="187.9749">[while the specialist doctor wants to make a diagnosis and write a report for one more test]</text><polygon fill="#A80036" points="1287.5,217.0801,1300,222.0801,1287.5,227.0801,1292.5,222.0801" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="882.5" x2="1295" y1="222.0801" y2="222.0801"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="891.25" y="216.0095">2</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="356.25" x="905" y="216.0095">listTestsToDiagnoseDTO = getTestsToDiagnose()</text><polygon fill="#A80036" points="1582.5,255.0195,1595,260.0195,1582.5,265.0195,1587.5,260.0195" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1315" x2="1590" y1="260.0195" y2="260.0195"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="1323.75" y="253.949">3</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="180" x="1337.5" y="253.949">tstStore = getTestStore()</text><polygon fill="#A80036" points="1707.5,361.709,1720,366.709,1707.5,371.709,1712.5,366.709" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1315" x2="1715" y1="366.709" y2="366.709"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="1323.75" y="360.6384">4</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="370" x="1337.5" y="360.6384">listTestsToDiagnose = getTestsReadyToDiagnose()</text><polygon fill="#A80036" points="2007.5,399.6484,2020,404.6484,2007.5,409.6484,2012.5,404.6484" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="1735" x2="2015" y1="404.6484" y2="404.6484"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="1743.75" y="398.5779">5</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="55" x="1757.5" y="398.5779">create()</text><rect fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="178.75" x="2022.5" y="376.709"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="161.25" x="2031.25" y="403.6255">listTestsToDiagnose</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="87.5" x="2068.125" y="425.6372">:List&lt;Test&gt;</text><polygon fill="#A80036" points="1328.75,479.9219,1316.25,484.9219,1328.75,489.9219,1323.75,484.9219" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="1321.25" x2="1727.5" y1="484.9219" y2="484.9219"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="1336.25" y="478.8513">6</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="146.25" x="1350" y="478.8513">listTestsToDiagnose</text><polygon fill="#A80036" points="1927.5,549.1113,1940,554.1113,1927.5,559.1113,1932.5,554.1113" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1315" x2="1935" y1="554.1113" y2="554.1113"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="1323.75" y="548.0408">7</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="401.25" x="1337.5" y="548.0408">listTestsToDiagnoseDTO = toDTO(listTestsToDiagnose)</text><rect fill="#FFFFFF" filter="url(#fqc5xrkf3r1cp)" height="53.3789" style="stroke:#000000;stroke-width:2.5;" width="265" x="1883.75" y="564.1113"/><polygon fill="#EEEEEE" points="1883.75,564.1113,1961.25,564.1113,1961.25,574.1113,1948.75,586.6113,1883.75,586.6113,1883.75,564.1113" style="stroke:#000000;stroke-width:2.5;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="21.25" x="1900" y="583.4802">ref</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="255" x="1891.25" y="608.4802">US14_SD_TestMapper_toDTO_List</text><polygon fill="#A80036" points="1328.75,646.6797,1316.25,651.6797,1328.75,656.6797,1323.75,651.6797" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="1321.25" x2="1947.5" y1="651.6797" y2="651.6797"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="1336.25" y="645.6091">8</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="178.75" x="1350" y="645.6091">listTestsToDiagnoseDTO</text><polygon fill="#A80036" points="896.25,684.6191,883.75,689.6191,896.25,694.6191,891.25,689.6191" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="888.75" x2="1307.5" y1="689.6191" y2="689.6191"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="903.75" y="683.5486">9</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="178.75" x="917.5" y="683.5486">listTestsToDiagnoseDTO</text><polygon fill="#A80036" points="115,722.5586,102.5,727.5586,115,732.5586,110,727.5586" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="107.5" x2="875" y1="727.5586" y2="727.5586"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="122.5" y="721.488">10</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="506.25" x="145" y="721.488">shows list of tests ready to make a diagnosis and asks to selects one</text><polygon fill="#A80036" points="855,760.498,867.5,765.498,855,770.498,860,765.498" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="101.25" x2="862.5" y1="765.498" y2="765.498"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="110" y="759.4275">11</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="98.75" x="132.5" y="759.4275">selects a test</text><polygon fill="#A80036" points="1287.5,798.4375,1300,803.4375,1287.5,808.4375,1292.5,803.4375" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="882.5" x2="1295" y1="803.4375" y2="803.4375"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="891.25" y="797.3669">12</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="373.75" x="913.75" y="797.3669">listParameterResults = getTestParametersResults()</text><polygon fill="#A80036" points="1582.5,836.377,1595,841.377,1582.5,846.377,1587.5,841.377" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1315" x2="1590" y1="841.377" y2="841.377"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="1323.75" y="835.3064">13</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="180" x="1346.25" y="835.3064">tstStore = getTestStore()</text><polygon fill="#A80036" points="1707.5,943.0664,1720,948.0664,1707.5,953.0664,1712.5,948.0664" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1315" x2="1715" y1="948.0664" y2="948.0664"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="1323.75" y="941.9958">14</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="160" x="1346.25" y="941.9958">tst = getTestByCode()</text><polygon fill="#A80036" points="1707.5,1049.7559,1720,1054.7559,1707.5,1059.7559,1712.5,1054.7559" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1315" x2="1715" y1="1054.7559" y2="1054.7559"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="1323.75" y="1048.6853">15</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="276.25" x="1346.25" y="1048.6853">listTestParams = getTestParameters()</text><polygon fill="#A80036" points="2270,1156.4453,2282.5,1161.4453,2270,1166.4453,2275,1161.4453" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1315" x2="2277.5" y1="1161.4453" y2="1161.4453"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="1323.75" y="1155.3748">16</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="298.75" x="1346.25" y="1155.3748">listTestResults = getParametersResults()</text><polygon fill="#A80036" points="896.25,1263.1348,883.75,1268.1348,896.25,1273.1348,891.25,1268.1348" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="888.75" x2="1307.5" y1="1268.1348" y2="1268.1348"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="903.75" y="1262.0642">17</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="151.25" x="926.25" y="1262.0642">listParameterResults</text><polygon fill="#A80036" points="115,1301.0742,102.5,1306.0742,115,1311.0742,110,1306.0742" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="107.5" x2="875" y1="1306.0742" y2="1306.0742"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="122.5" y="1300.0037">18</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="716.25" x="145" y="1300.0037">shows chemical results and reference values of the selected test and requests data(i.e., reportText)</text><polygon fill="#A80036" points="855,1339.0137,867.5,1344.0137,855,1349.0137,860,1344.0137" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="101.25" x2="862.5" y1="1344.0137" y2="1344.0137"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="110" y="1337.9431">19</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="152.5" x="132.5" y="1337.9431">types requested data</text><polygon fill="#A80036" points="1287.5,1376.9531,1300,1381.9531,1287.5,1386.9531,1292.5,1381.9531" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="882.5" x2="1295" y1="1381.9531" y2="1381.9531"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="891.25" y="1375.8826">20</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="175" x="913.75" y="1375.8826">createReport(reportText)</text><polygon fill="#A80036" points="1582.5,1414.8926,1595,1419.8926,1582.5,1424.8926,1587.5,1419.8926" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1315" x2="1590" y1="1419.8926" y2="1419.8926"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="1323.75" y="1413.822">21</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="236.25" x="1346.25" y="1413.822">report = createReport(reportText)</text><polygon fill="#A80036" points="1778.75,1452.832,1791.25,1457.832,1778.75,1462.832,1783.75,1457.832" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="1603.75" x2="1786.25" y1="1457.832" y2="1457.832"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="1612.5" y="1451.7615">22</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="127.5" x="1635" y="1451.7615">create(reportText)</text><rect fill="#FEFECE" filter="url(#fqc5xrkf3r1cp)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="76.25" x="1793.75" y="1429.8926"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="21.25" x="1821.25" y="1456.8091">rpt</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="58.75" x="1802.5" y="1478.8208">:Report</text><polygon fill="#A80036" points="896.25,1533.1055,883.75,1538.1055,896.25,1543.1055,891.25,1538.1055" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="888.75" x2="1307.5" y1="1538.1055" y2="1538.1055"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="903.75" y="1532.0349">23</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="40" x="926.25" y="1532.0349">result</text><polygon fill="#A80036" points="115,1571.0449,102.5,1576.0449,115,1581.0449,110,1576.0449" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="107.5" x2="875" y1="1576.0449" y2="1576.0449"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="122.5" y="1569.9744">24</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="315" x="145" y="1569.9744">shows the data and requests a confirmation</text><polygon fill="#A80036" points="855,1608.9844,867.5,1613.9844,855,1618.9844,860,1613.9844" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="101.25" x2="862.5" y1="1613.9844" y2="1613.9844"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="110" y="1607.9138">25</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="125" x="132.5" y="1607.9138">confirms the data</text><polygon fill="#A80036" points="1287.5,1646.9238,1300,1651.9238,1287.5,1656.9238,1292.5,1651.9238" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="882.5" x2="1295" y1="1651.9238" y2="1651.9238"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="891.25" y="1645.8533">26</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="167.5" x="913.75" y="1645.8533">addReportToTest(code)</text><polygon fill="#A80036" points="1582.5,1684.8633,1595,1689.8633,1582.5,1694.8633,1587.5,1689.8633" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1315" x2="1590" y1="1689.8633" y2="1689.8633"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="1323.75" y="1683.7927">27</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="180" x="1346.25" y="1683.7927">tstStore = getTestStore()</text><polygon fill="#A80036" points="1707.5,1791.5527,1720,1796.5527,1707.5,1801.5527,1712.5,1796.5527" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1315" x2="1715" y1="1796.5527" y2="1796.5527"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="1323.75" y="1790.4822">28</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="268.75" x="1346.25" y="1790.4822">selectedTest = getTestByCode(code)</text><polygon fill="#A80036" points="1707.5,1898.2422,1720,1903.2422,1707.5,1908.2422,1712.5,1903.2422" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="1315" x2="1715" y1="1903.2422" y2="1903.2422"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="1323.75" y="1897.1716">29</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="225" x="1346.25" y="1897.1716">addReportToTest(selectedTest)</text><polygon fill="#A80036" points="896.25,2004.9316,883.75,2009.9316,896.25,2014.9316,891.25,2009.9316" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="888.75" x2="1307.5" y1="2009.9316" y2="2009.9316"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="903.75" y="2003.8611">30</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="40" x="926.25" y="2003.8611">result</text><polygon fill="#A80036" points="108.75,2051.6211,96.25,2056.6211,108.75,2061.6211,103.75,2056.6211" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="101.25" x2="875" y1="2056.6211" y2="2056.6211"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="17.5" x="116.25" y="2050.5505">31</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="190" x="138.75" y="2050.5505">informs operation success</text><!--MD5=[35a027dd875e0360894923646f561082]
@startuml
autonumber
actor "Specialist Doctor" as SPDT

participant ":WriteReportUI" as UI
participant ":WriteReportController" as CTRL
participant ":Company" as CMP
participant "tstStore\n:TestStore" as TSTSTORE
participant "rpt\n:Report" as RPT
participant ":TestMapper" as TSTMAPPER
'participant "objDTO\n:TestsDTO" as OBJ_DTO
participant "listTestsToDiagnose\n:List<Test>" as LT
participant "testParam\n:TestParameter" as TP
participant "listTestsToDiagnoseDTO\n:List<TestDTO>" as LIST_DTO
participant "listTestParams\n:List<TestParameter>" as LTP
participant "listTestResults\n:List<TestParameterResult>" as LTPR
participant "testResult\n:TestParameterResult" as TPR
participant "tst\n:Test" as TST

activate SPDT
SPDT -> UI : asks to make diagnosis and write a report
activate UI
loop while the specialist doctor wants to make a diagnosis and write a report for one more test
UI -> CTRL : listTestsToDiagnoseDTO = getTestsToDiagnose()
activate CTRL

CTRL -> CMP : tstStore = getTestStore()
activate CMP
|||
deactivate CMP

CTRL -> TSTSTORE : listTestsToDiagnose = getTestsReadyToDiagnose()
activate TSTSTORE

TSTSTORE - -> LT** : create()
TSTSTORE - -> CTRL : listTestsToDiagnose
deactivate TSTSTORE
|||

CTRL -> TSTMAPPER : listTestsToDiagnoseDTO = toDTO(listTestsToDiagnose)
activate TSTMAPPER

ref over TSTMAPPER : US14_SD_TestMapper_toDTO_List

TSTMAPPER - -> CTRL : listTestsToDiagnoseDTO
deactivate TSTMAPPER

CTRL - -> UI : listTestsToDiagnoseDTO
deactivate CTRL

UI - -> SPDT : shows list of tests ready to make a diagnosis and asks to selects one
deactivate UI

'spdt writes the test code in the UI
'it uses the test code when adding the report

SPDT -> UI : selects a test
activate UI

UI -> CTRL : listParameterResults = getTestParametersResults()
activate CTRL

CTRL -> CMP : tstStore = getTestStore()
activate CMP
|||
deactivate CMP

CTRL -> TSTSTORE : tst = getTestByCode()
activate TSTSTORE
|||
deactivate TSTSTORE

CTRL -> TSTSTORE : listTestParams = getTestParameters()
activate TSTSTORE
|||
deactivate TSTSTORE

CTRL -> TP : listTestResults = getParametersResults()
activate TP
|||
deactivate TP

'CTRL -> TPR : listResultValues = getValues()
'activate TPR
'|||
'deactivate TPR

'CTRL -> TPR : listReferenceValues = getReferenceValues()
'activate TPR
'|||
'deactivate TPR

CTRL - -> UI : listParameterResults
deactivate CTRL

'getTestByCode()
'getTestParameters()
'getTestParameterResult()
'getParametersResults()
'getValue()
'getReferenceValue()
'vai ter code.getTestByCode().getTestParameters().getParametersResults()
'vai ter getParametersResults().getValues()
'vai ter getParametersResults().getReferenceValues()


UI - -> SPDT : shows chemical results and reference values of the selected test and requests data(i.e., reportText)
deactivate UI

SPDT -> UI : types requested data
activate UI

UI -> CTRL : createReport(reportText)
activate CTRL

CTRL -> CMP : report = createReport(reportText)
activate CMP

CMP - -> RPT** : create(reportText)
deactivate CMP

CTRL - -> UI : result
deactivate CTRL
UI - -> SPDT : shows the data and requests a confirmation
deactivate UI

SPDT -> UI : confirms the data
activate UI

UI -> CTRL : addReportToTest(code)
activate CTRL

CTRL -> CMP : tstStore = getTestStore()
activate CMP
|||
deactivate CMP

CTRL -> TSTSTORE : selectedTest = getTestByCode(code)
activate TSTSTORE
|||
deactivate TSTSTORE

CTRL -> TSTSTORE : addReportToTest(selectedTest)
activate TSTSTORE
|||
deactivate TSTSTORE

CTRL - -> UI : result
deactivate CMP
deactivate CTRL

end

UI - -> SPDT : informs operation success
deactivate UI
deactivate SPDT

@enduml

@startuml
autonumber
actor "Specialist Doctor" as SPDT

participant ":WriteReportUI" as UI
participant ":WriteReportController" as CTRL
participant ":Company" as CMP
participant "tstStore\n:TestStore" as TSTSTORE
participant "rpt\n:Report" as RPT
participant ":TestMapper" as TSTMAPPER
participant "listTestsToDiagnose\n:List<Test>" as LT
participant "testParam\n:TestParameter" as TP
participant "listTestsToDiagnoseDTO\n:List<TestDTO>" as LIST_DTO
participant "listTestParams\n:List<TestParameter>" as LTP
participant "listTestResults\n:List<TestParameterResult>" as LTPR
participant "testResult\n:TestParameterResult" as TPR
participant "tst\n:Test" as TST

activate SPDT
SPDT -> UI : asks to make diagnosis and write a report
activate UI
loop while the specialist doctor wants to make a diagnosis and write a report for one more test
UI -> CTRL : listTestsToDiagnoseDTO = getTestsToDiagnose()
activate CTRL

CTRL -> CMP : tstStore = getTestStore()
activate CMP
|||
deactivate CMP

CTRL -> TSTSTORE : listTestsToDiagnose = getTestsReadyToDiagnose()
activate TSTSTORE

TSTSTORE - -> LT** : create()
TSTSTORE - -> CTRL : listTestsToDiagnose
deactivate TSTSTORE
|||

CTRL -> TSTMAPPER : listTestsToDiagnoseDTO = toDTO(listTestsToDiagnose)
activate TSTMAPPER

ref over TSTMAPPER : US14_SD_TestMapper_toDTO_List

TSTMAPPER - -> CTRL : listTestsToDiagnoseDTO
deactivate TSTMAPPER

CTRL - -> UI : listTestsToDiagnoseDTO
deactivate CTRL

UI - -> SPDT : shows list of tests ready to make a diagnosis and asks to selects one
deactivate UI


SPDT -> UI : selects a test
activate UI

UI -> CTRL : listParameterResults = getTestParametersResults()
activate CTRL

CTRL -> CMP : tstStore = getTestStore()
activate CMP
|||
deactivate CMP

CTRL -> TSTSTORE : tst = getTestByCode()
activate TSTSTORE
|||
deactivate TSTSTORE

CTRL -> TSTSTORE : listTestParams = getTestParameters()
activate TSTSTORE
|||
deactivate TSTSTORE

CTRL -> TP : listTestResults = getParametersResults()
activate TP
|||
deactivate TP



CTRL - -> UI : listParameterResults
deactivate CTRL



UI - -> SPDT : shows chemical results and reference values of the selected test and requests data(i.e., reportText)
deactivate UI

SPDT -> UI : types requested data
activate UI

UI -> CTRL : createReport(reportText)
activate CTRL

CTRL -> CMP : report = createReport(reportText)
activate CMP

CMP - -> RPT** : create(reportText)
deactivate CMP

CTRL - -> UI : result
deactivate CTRL
UI - -> SPDT : shows the data and requests a confirmation
deactivate UI

SPDT -> UI : confirms the data
activate UI

UI -> CTRL : addReportToTest(code)
activate CTRL

CTRL -> CMP : tstStore = getTestStore()
activate CMP
|||
deactivate CMP

CTRL -> TSTSTORE : selectedTest = getTestByCode(code)
activate TSTSTORE
|||
deactivate TSTSTORE

CTRL -> TSTSTORE : addReportToTest(selectedTest)
activate TSTSTORE
|||
deactivate TSTSTORE

CTRL - -> UI : result
deactivate CMP
deactivate CTRL

end

UI - -> SPDT : informs operation success
deactivate UI
deactivate SPDT

@enduml

PlantUML version 1.2021.5(Sun Apr 25 12:20:28 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>