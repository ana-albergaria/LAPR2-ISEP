<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="788.75px" preserveAspectRatio="none" style="width:1341px;height:788px;" version="1.1" viewBox="0 0 1341 788" width="1341.25px" zoomAndPan="magnify"><defs><filter height="300%" id="f1uc1d6a2x2lzg" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.5"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="5.0" dy="5.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1uc1d6a2x2lzg)" height="575.2441" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="545" y="114.4629"/><rect fill="#FFFFFF" filter="url(#f1uc1d6a2x2lzg)" height="35" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="551.25" y="381.0547"/><rect fill="#FFFFFF" filter="url(#f1uc1d6a2x2lzg)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="979.375" y="264.3652"/><rect fill="#FFFFFF" filter="url(#f1uc1d6a2x2lzg)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="979.375" y="574.2676"/><rect fill="#FFFFFF" filter="url(#f1uc1d6a2x2lzg)" height="519.8047" style="stroke:#000000;stroke-width:2.5;" width="846.25" x="477.5" y="133.2129"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="106.25" x2="106.25" y1="74.0234" y2="712.207"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="551.25" x2="551.25" y1="74.0234" y2="712.207"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="826.25" x2="826.25" y1="518.6914" y2="712.207"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="985" x2="985" y1="74.0234" y2="712.207"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:5.0,5.0;" x1="1200" x2="1200" y1="208.7891" y2="712.207"/><rect fill="#FEFECE" filter="url(#f1uc1d6a2x2lzg)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="195" x="6.25" y="28.2617"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="177.5" x="15" y="55.1782">:WriteReportController</text><rect fill="#FEFECE" filter="url(#f1uc1d6a2x2lzg)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="195" x="6.25" y="710.957"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="177.5" x="15" y="737.8735">:WriteReportController</text><rect fill="#FEFECE" filter="url(#f1uc1d6a2x2lzg)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="117.5" x="490" y="28.2617"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="100" x="498.75" y="55.1782">:TestMapper</text><rect fill="#FEFECE" filter="url(#f1uc1d6a2x2lzg)" height="39.5117" style="stroke:#A80036;stroke-width:1.875;" width="117.5" x="490" y="710.957"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="100" x="498.75" y="737.8735">:TestMapper</text><rect fill="#FEFECE" filter="url(#f1uc1d6a2x2lzg)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="103.75" x="772.5" y="710.957"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="61.25" x="793.75" y="737.8735">objDTO</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="86.25" x="781.25" y="759.8853">:TestsDTO</text><rect fill="#FEFECE" filter="url(#f1uc1d6a2x2lzg)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="178.75" x="893.75" y="6.25"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="161.25" x="902.5" y="33.1665">listTestsToDiagnose</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="87.5" x="939.375" y="55.1782">:List&lt;Test&gt;</text><rect fill="#FEFECE" filter="url(#f1uc1d6a2x2lzg)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="178.75" x="893.75" y="710.957"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="161.25" x="902.5" y="737.8735">listTestsToDiagnose</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="87.5" x="939.375" y="759.8853">:List&lt;Test&gt;</text><rect fill="#FEFECE" filter="url(#f1uc1d6a2x2lzg)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="216.25" x="1090" y="710.957"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="198.75" x="1098.75" y="737.8735">listTestsToDiagnoseDTO</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="125" x="1135.625" y="759.8853">:List&lt;TestDTO&gt;</text><rect fill="#FFFFFF" filter="url(#f1uc1d6a2x2lzg)" height="575.2441" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="545" y="114.4629"/><rect fill="#FFFFFF" filter="url(#f1uc1d6a2x2lzg)" height="35" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="551.25" y="381.0547"/><rect fill="#FFFFFF" filter="url(#f1uc1d6a2x2lzg)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="979.375" y="264.3652"/><rect fill="#FFFFFF" filter="url(#f1uc1d6a2x2lzg)" height="37.5" style="stroke:#A80036;stroke-width:1.25;" width="12.5" x="979.375" y="574.2676"/><polygon fill="#A80036" points="530,109.4629,542.5,114.4629,530,119.4629,535,114.4629" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="106.25" x2="537.5" y1="114.4629" y2="114.4629"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="115" y="108.3923">1</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="401.25" x="128.75" y="108.3923">listTestsToDiagnoseDTO = toDTO(listTestsToDiagnose)</text><path d="M477.5,133.2129 L568.75,133.2129 L568.75,143.2129 L556.25,155.7129 L477.5,155.7129 L477.5,133.2129 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.25;"/><rect fill="none" height="519.8047" style="stroke:#000000;stroke-width:2.5;" width="846.25" x="477.5" y="133.2129"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="35" x="496.25" y="151.3318">loop</text><text fill="#000000" font-family="sans-serif" font-size="13.75" font-weight="bold" lengthAdjust="spacing" textLength="275" x="587.5" y="149.9866">[for each object in listTestsToDiagnose]</text><polygon fill="#A80036" points="1075,179.0918,1087.5,184.0918,1075,189.0918,1080,184.0918" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="557.5" x2="1082.5" y1="184.0918" y2="184.0918"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="566.25" y="178.0212">2</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="55" x="580" y="178.0212">create()</text><rect fill="#FEFECE" filter="url(#f1uc1d6a2x2lzg)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="216.25" x="1090" y="156.1523"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="198.75" x="1098.75" y="183.0688">listTestsToDiagnoseDTO</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="125" x="1135.625" y="205.0806">:List&lt;TestDTO&gt;</text><polygon fill="#A80036" points="964.375,259.3652,976.875,264.3652,964.375,269.3652,969.375,264.3652" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;" x1="557.5" x2="971.875" y1="264.3652" y2="264.3652"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="566.25" y="258.2947">3</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="77.5" x="580" y="258.2947">obj = get(i)</text><line style="stroke:#A80036;stroke-width:1.25;" x1="563.75" x2="616.25" y1="371.0547" y2="371.0547"/><line style="stroke:#A80036;stroke-width:1.25;" x1="616.25" x2="616.25" y1="371.0547" y2="387.3047"/><line style="stroke:#A80036;stroke-width:1.25;" x1="565" x2="616.25" y1="387.3047" y2="387.3047"/><polygon fill="#A80036" points="577.5,382.3047,565,387.3047,577.5,392.3047,572.5,387.3047" style="stroke:#A80036;stroke-width:1.25;"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="572.5" y="364.9841">4</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="151.25" x="586.25" y="364.9841">objDTO = toDTO(obj)</text><polygon fill="#A80036" points="757.5,488.9941,770,493.9941,757.5,498.9941,762.5,493.9941" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="557.5" x2="765" y1="493.9941" y2="493.9941"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="566.25" y="487.9236">5</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="171.25" x="580" y="487.9236">create(NHSCode, code)</text><rect fill="#FEFECE" filter="url(#f1uc1d6a2x2lzg)" height="61.5234" style="stroke:#A80036;stroke-width:1.875;" width="103.75" x="772.5" y="466.0547"/><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="61.25" x="793.75" y="492.9712">objDTO</text><text fill="#000000" font-family="sans-serif" font-size="17.5" lengthAdjust="spacing" textLength="86.25" x="781.25" y="514.9829">:TestsDTO</text><polygon fill="#A80036" points="964.375,569.2676,976.875,574.2676,964.375,579.2676,969.375,574.2676" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="557.5" x2="971.875" y1="574.2676" y2="574.2676"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="566.25" y="568.197">6</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="90" x="580" y="568.197">add(objDTO)</text><polygon fill="#A80036" points="120,684.707,107.5,689.707,120,694.707,115,689.707" style="stroke:#A80036;stroke-width:1.25;"/><line style="stroke:#A80036;stroke-width:1.25;stroke-dasharray:2.0,2.0;" x1="112.5" x2="550" y1="689.707" y2="689.707"/><text fill="#000000" font-family="sans-serif" font-size="16.25" font-weight="bold" lengthAdjust="spacing" textLength="8.75" x="127.5" y="683.6365">7</text><text fill="#000000" font-family="sans-serif" font-size="16.25" lengthAdjust="spacing" textLength="178.75" x="141.25" y="683.6365">listTestsToDiagnoseDTO</text><!--MD5=[ae9540062a14778eb800cd2f023bbe42]
@startuml
autonumber

participant ":WriteReportController" as CTRL
participant ":TestMapper" as TSTMAPPER
participant "objDTO\n:TestsDTO" as OBJ_DTO
participant "listTestsToDiagnose\n:List<Test>" as LT
participant "listTestsToDiagnoseDTO\n:List<TestDTO>" as LIST_DTO

CTRL -> TSTMAPPER : listTestsToDiagnoseDTO = toDTO(listTestsToDiagnose)
activate TSTMAPPER

loop for each object in listTestsToDiagnose
TSTMAPPER - -> LIST_DTO** : create()
TSTMAPPER -> LT : obj = get(i)
activate LT
|||
deactivate LT

TSTMAPPER -> TSTMAPPER : objDTO = toDTO(obj)
activate TSTMAPPER
|||
deactivate TSTMAPPER

TSTMAPPER - -> OBJ_DTO** : create(NHSCode, code)

TSTMAPPER - -> LT : add(objDTO)
activate LT
|||
deactivate LT
end

TSTMAPPER - -> CTRL : listTestsToDiagnoseDTO
deactivate TSTMAPPER

@enduml

PlantUML version 1.2021.5(Sun Apr 25 12:20:28 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>